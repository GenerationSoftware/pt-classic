import{s as z,c as x,n as S}from"../chunks/scheduler.ChSvWufA.js";import{S as L,i as V,d,o as k,p as v,y as q,q as F,a as p,A as E,c as g,u as A,h as y,z as M,k as w,e as R,n as U,r as D,v as T,w as Y,f as C,t as $,g as B,j as N,D as Q,s as I,b}from"../chunks/index.COxfozy4.js";import{g as W}from"../chunks/entry.BpEm7yvZ.js";import{z as X,Y as ee,y as te,Z as O,_ as se,$ as le,a0 as ne,N as re,t as oe,l as G,a as P,K as ae,k as H}from"../chunks/vectorMath.Bx0Xwddb.js";import{c as ce}from"../chunks/txs.DIvfKXc5.js";import{L as J}from"../chunks/Loading.DtZkJqA-.js";import{S as ie}from"../chunks/SuccessPooly.Dn9ObWau.js";import{B as ue}from"../chunks/BackButton.Cq3884Ih.js";function fe(i){let e,t,s,r,f,o,u;const l=[de,me],n=[];function c(a,_){return a[2]?0:1}return t=c(i),s=n[t]=l[t](i),{c(){e=y("button"),s.c(),this.h()},l(a){e=g(a,"BUTTON",{type:!0,class:!0});var _=R(e);s.l(_),_.forEach(d),this.h()},h(){w(e,"type","submit"),w(e,"class","teal-button"),e.disabled=r=i[2]||i[0]},m(a,_){p(a,e,_),n[t].m(e,null),f=!0,o||(u=M(e,"click",i[7]),o=!0)},p(a,_){let m=t;t=c(a),t!==m&&(q(),k(n[m],1,1,()=>{n[m]=null}),F(),s=n[t],s||(s=n[t]=l[t](a),s.c()),v(s,1),s.m(e,null)),(!f||_&5&&r!==(r=a[2]||a[0]))&&(e.disabled=r)},i(a){f||(v(s),f=!0)},o(a){k(s),f=!1},d(a){a&&d(e),n[t].d(),o=!1,u()}}}function _e(i){let e,t="Claim Bonuses";return{c(){e=y("button"),e.textContent=t,this.h()},l(s){e=g(s,"BUTTON",{"data-svelte-h":!0}),A(e)!=="svelte-5mc5b6"&&(e.textContent=t),this.h()},h(){e.disabled=!0},m(s,r){p(s,e,r)},p:S,i:S,o:S,d(s){s&&d(e)}}}function me(i){let e;return{c(){e=$("Claim Bonuses")},l(t){e=C(t,"Claim Bonuses")},m(t,s){p(t,e,s)},i:S,o:S,d(t){t&&d(e)}}}function de(i){let e,t;return e=new J({props:{height:".75rem"}}),{c(){Y(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,r){D(e,s,r),t=!0},i(s){t||(v(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function pe(i){let e,t,s,r;const f=[_e,fe],o=[];function u(l,n){var c;return!l[4].wallet||!l[3]||!((c=l[5])!=null&&c.length)?0:1}return e=u(i),t=o[e]=f[e](i),{c(){t.c(),s=E()},l(l){t.l(l),s=E()},m(l,n){o[e].m(l,n),p(l,s,n),r=!0},p(l,[n]){let c=e;e=u(l),e===c?o[e].p(l,n):(q(),k(o[c],1,1,()=>{o[c]=null}),F(),t=o[e],t?t.p(l,n):(t=o[e]=f[e](l),t.c()),v(t,1),t.m(s.parentNode,s))},i(l){r||(v(t),r=!0)},o(l){k(t),r=!1},d(l){l&&d(s),o[e].d(l)}}}function he(i,e,t){let s,r,f,o;x(i,X,_=>t(3,s=_)),x(i,ee,_=>t(8,r=_)),x(i,te,_=>t(4,f=_)),x(i,O,_=>t(5,o=_));let{disabled:u=!1}=e,{onSuccess:l=()=>{}}=e,n=!1;const c=async()=>{r&&s&&(O.set(await se(r,s)),le.set(await ne(r,s)))},a=()=>ce(o,{onSend:()=>{t(2,n=!0)},onSuccess:()=>{c(),l()},onSettled:()=>{t(2,n=!1),re(s)}});return i.$$set=_=>{"disabled"in _&&t(0,u=_.disabled),"onSuccess"in _&&t(1,l=_.onSuccess)},[u,l,n,s,f,o,c,a]}class be extends L{constructor(e){super(),V(this,e,he,pe,z,{disabled:0,onSuccess:1})}}function K(i,e,t){const s=i.slice();s[8]=e[t];const r=s[4](s[8]);s[9]=r;const f=s[9].toLocaleString("en",{maximumFractionDigits:4});return s[10]=f,s}function ke(i){let e,t="Success!",s,r,f="You claimed your available bonus rewards",o,u,l;return u=new ie({props:{style:"max-height: 7.5rem; margin: 2rem 0 1rem;"}}),{c(){e=y("h3"),e.textContent=t,s=N(),r=y("span"),r.textContent=f,o=N(),Y(u.$$.fragment),this.h()},l(n){e=g(n,"H3",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1o74v5t"&&(e.textContent=t),s=B(n),r=g(n,"SPAN",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-127eczs"&&(r.textContent=f),o=B(n),T(u.$$.fragment,n),this.h()},h(){w(e,"class","success-title svelte-9sh31a"),w(r,"class","success-info svelte-9sh31a")},m(n,c){p(n,e,c),p(n,s,c),p(n,r,c),p(n,o,c),D(u,n,c),l=!0},p:S,i(n){l||(v(u.$$.fragment,n),l=!0)},o(n){k(u.$$.fragment,n),l=!1},d(n){n&&(d(e),d(s),d(r),d(o)),U(u,n)}}}function ve(i){let e,t,s,r;const f=[ye,ge],o=[];function u(l,n){return l[0]&&l[2]?0:1}return e=u(i),t=o[e]=f[e](i),{c(){t.c(),s=E()},l(l){t.l(l),s=E()},m(l,n){o[e].m(l,n),p(l,s,n),r=!0},p(l,n){let c=e;e=u(l),e===c?o[e].p(l,n):(q(),k(o[c],1,1,()=>{o[c]=null}),F(),t=o[e],t?t.p(l,n):(t=o[e]=f[e](l),t.c()),v(t,1),t.m(s.parentNode,s))},i(l){r||(v(t),r=!0)},o(l){k(t),r=!1},d(l){l&&d(s),o[e].d(l)}}}function ge(i){let e,t;return e=new J({props:{height:"1rem"}}),{c(){Y(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,r){D(e,s,r),t=!0},p:S,i(s){t||(v(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function ye(i){let e,t,s,r;const f=[Ce,we],o=[];function u(l,n){return l[0].length>0?0:1}return e=u(i),t=o[e]=f[e](i),{c(){t.c(),s=E()},l(l){t.l(l),s=E()},m(l,n){o[e].m(l,n),p(l,s,n),r=!0},p(l,n){let c=e;e=u(l),e===c?o[e].p(l,n):(q(),k(o[c],1,1,()=>{o[c]=null}),F(),t=o[e],t?t.p(l,n):(t=o[e]=f[e](l),t.c()),v(t,1),t.m(s.parentNode,s))},i(l){r||(v(t),r=!0)},o(l){k(t),r=!1},d(l){l&&d(s),o[e].d(l)}}}function we(i){let e,t="You don't have any bonus rewards to claim";return{c(){e=y("span"),e.textContent=t,this.h()},l(s){e=g(s,"SPAN",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-tcl0lh"&&(e.textContent=t),this.h()},h(){w(e,"class","rewards-title svelte-9sh31a")},m(s,r){p(s,e,r)},p:S,i:S,o:S,d(s){s&&d(e)}}}function Ce(i){let e,t,s,r,f;function o(a,_){return P.asset.isUsdEquivalent?Se:$e}let l=o()(i),n=H(i[0]),c=[];for(let a=0;a<n.length;a+=1)c[a]=Z(K(i,n,a));return r=new be({props:{onSuccess:i[7]}}),{c(){l.c(),e=N(),t=y("div");for(let a=0;a<c.length;a+=1)c[a].c();s=N(),Y(r.$$.fragment),this.h()},l(a){l.l(a),e=B(a),t=g(a,"DIV",{class:!0});var _=R(t);for(let m=0;m<c.length;m+=1)c[m].l(_);_.forEach(d),s=B(a),T(r.$$.fragment,a),this.h()},h(){w(t,"class","rewards-list svelte-9sh31a")},m(a,_){l.m(a,_),p(a,e,_),p(a,t,_);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(t,null);p(a,s,_),D(r,a,_),f=!0},p(a,_){if(l.p(a,_),_&17){n=H(a[0]);let h;for(h=0;h<n.length;h+=1){const j=K(a,n,h);c[h]?c[h].p(j,_):(c[h]=Z(j),c[h].c(),c[h].m(t,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=n.length}const m={};_&2&&(m.onSuccess=a[7]),r.$set(m)},i(a){f||(v(r.$$.fragment,a),f=!0)},o(a){k(r.$$.fragment,a),f=!1},d(a){a&&(d(e),d(t),d(s)),l.d(a),Q(c,a),U(r,a)}}}function $e(i){let e,t,s,r,f,o=P.asset.symbol+"",u,l;return{c(){e=y("span"),t=$("You have "),s=y("strong"),r=$(i[3]),f=N(),u=$(o),l=$(" in bonus rewards to claim"),this.h()},l(n){e=g(n,"SPAN",{class:!0});var c=R(e);t=C(c,"You have "),s=g(c,"STRONG",{class:!0});var a=R(s);r=C(a,i[3]),f=B(a),u=C(a,o),a.forEach(d),l=C(c," in bonus rewards to claim"),c.forEach(d),this.h()},h(){w(s,"class","svelte-9sh31a"),w(e,"class","rewards-title svelte-9sh31a")},m(n,c){p(n,e,c),b(e,t),b(e,s),b(s,r),b(s,f),b(s,u),b(e,l)},p(n,c){c&8&&I(r,n[3])},d(n){n&&d(e)}}}function Se(i){let e,t,s,r,f,o;return{c(){e=y("span"),t=$("You have "),s=y("strong"),r=$("$"),f=$(i[3]),o=$(" in bonus rewards to claim"),this.h()},l(u){e=g(u,"SPAN",{class:!0});var l=R(e);t=C(l,"You have "),s=g(l,"STRONG",{class:!0});var n=R(s);r=C(n,"$"),f=C(n,i[3]),n.forEach(d),o=C(l," in bonus rewards to claim"),l.forEach(d),this.h()},h(){w(s,"class","svelte-9sh31a"),w(e,"class","rewards-title svelte-9sh31a")},m(u,l){p(u,e,l),b(e,t),b(e,s),b(s,r),b(s,f),b(e,o)},p(u,l){l&8&&I(f,u[3])},d(u){u&&d(e)}}}function Z(i){let e,t,s="Unclaimed Reward",r,f,o=i[10]+"",u,l,n=i[8].token.symbol+"",c,a;return{c(){e=y("div"),t=y("span"),t.textContent=s,r=N(),f=y("span"),u=$(o),l=N(),c=$(n),a=N(),this.h()},l(_){e=g(_,"DIV",{class:!0});var m=R(e);t=g(m,"SPAN",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-6bi1xx"&&(t.textContent=s),r=B(m),f=g(m,"SPAN",{class:!0});var h=R(f);u=C(h,o),l=B(h),c=C(h,n),h.forEach(d),a=B(m),m.forEach(d),this.h()},h(){w(t,"class","svelte-9sh31a"),w(f,"class","svelte-9sh31a"),w(e,"class","reward-item svelte-9sh31a")},m(_,m){p(_,e,m),b(e,t),b(e,r),b(e,f),b(f,u),b(f,l),b(f,c),b(e,a)},p(_,m){m&1&&o!==(o=_[10]+"")&&I(u,o),m&1&&n!==(n=_[8].token.symbol+"")&&I(c,n)},d(_){_&&d(e)}}}function Be(i){let e,t,s,r;const f=[ve,ke],o=[];function u(l,n){return l[1]?1:0}return t=u(i),s=o[t]=f[t](i),{c(){e=y("div"),s.c(),this.h()},l(l){e=g(l,"DIV",{class:!0});var n=R(e);s.l(n),n.forEach(d),this.h()},h(){w(e,"class","card svelte-9sh31a")},m(l,n){p(l,e,n),o[t].m(e,null),r=!0},p(l,[n]){let c=t;t=u(l),t===c?o[t].p(l,n):(q(),k(o[c],1,1,()=>{o[c]=null}),F(),s=o[t],s?s.p(l,n):(s=o[t]=f[t](l),s.c()),v(s,1),s.m(e,null))},i(l){r||(v(s),r=!0)},o(l){k(s),r=!1},d(l){l&&d(e),o[t].d()}}}function Ne(i,e,t){let s,r,f,o,u;x(i,oe,a=>t(6,o=a)),x(i,O,a=>t(0,u=a));let l=!1;const n=a=>parseFloat(ae(Object.values(a.epochs).reduce((_,m)=>_+m,0n),a.token.decimals)),c=()=>t(1,l=!0);return i.$$.update=()=>{i.$$.dirty&65&&t(5,s=(u==null?void 0:u.reduce((a,_)=>{const m=n(_),h=o[G(_.token.address)]??0;return a+m*h},0))??0),i.$$.dirty&32&&t(3,r=s.toLocaleString("en",{minimumFractionDigits:P.asset.isUsdEquivalent?2:P.asset.displayDecimals??4,maximumFractionDigits:P.asset.isUsdEquivalent?2:P.asset.displayDecimals??4})),i.$$.dirty&65&&t(2,f=u==null?void 0:u.every(a=>o[G(a.token.address)]!==void 0))},[u,l,f,r,n,s,o,c]}class Re extends L{constructor(e){super(),V(this,e,Ne,Be,z,{})}}function xe(i){let e,t="Claim Bonus Rewards",s,r,f,o,u;return r=new Re({}),o=new ue({props:{onClick:i[0]}}),{c(){e=y("h2"),e.textContent=t,s=N(),Y(r.$$.fragment),f=N(),Y(o.$$.fragment),this.h()},l(l){e=g(l,"H2",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-78ytfr"&&(e.textContent=t),s=B(l),T(r.$$.fragment,l),f=B(l),T(o.$$.fragment,l),this.h()},h(){w(e,"class","svelte-u2ggcq")},m(l,n){p(l,e,n),p(l,s,n),D(r,l,n),p(l,f,n),D(o,l,n),u=!0},p:S,i(l){u||(v(r.$$.fragment,l),v(o.$$.fragment,l),u=!0)},o(l){k(r.$$.fragment,l),k(o.$$.fragment,l),u=!1},d(l){l&&(d(e),d(s),d(f)),U(r,l),U(o,l)}}}function Pe(i){return[()=>W("/account")]}class Ie extends L{constructor(e){super(),V(this,e,Pe,xe,z,{})}}export{Ie as component};
