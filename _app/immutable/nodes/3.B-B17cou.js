import{s as Te,c as re,n as A,f as Dt,p as Et,u as Rt,q as Bt,r as Vt,w as xt,o as tl,F as ll,e as qe,a as Wt,h as nl,E as sl}from"../chunks/scheduler.BtZbm0j3.js";import{S as Ee,i as Re,e as P,s as O,c as y,a as x,l as K,f as H,d as m,n as k,g as $,h as p,v as ve,p as R,q as we,r as I,k as ue,m as fe,o as de,u as he,t as q,b as U,j as me,E as Le,z as Se,C as Ue,A as Ae,w as ol,J as rl,G as al}from"../chunks/index.-yqi0WvP.js";import{p as il,g as cl,a as ul}from"../chunks/Confetti.Byt4YXA7.js";import{a0 as Xe,a1 as lt,u as He,m as Lt,l as Me,a2 as nt,G as et,a3 as tt,a4 as Ye,t as st,a5 as ot,a6 as Ot,a7 as Ht,r as jt,a8 as fl,k as dl,a9 as hl,aa as ml,C as _l,j as Ve,y as pl,ab as Ge,ac as bl,ad as le,q as kl,D as gl,E as vl,ae as wl,$ as Qe}from"../chunks/vectorMath.D1-glhvy.js";import{f as ht}from"../chunks/index.BX6i05FA.js";import{h as Je,u as Ft,C as Cl,a as Pl}from"../chunks/ConfigModalBanner.CG09YgvU.js";import{L as Ne}from"../chunks/Loading.BgkMO5iK.js";import{h as yl,M as qt,W as zl}from"../chunks/WalletConnectionModal.jbhDg1oT.js";import{S as Ml,B as Ut}from"../chunks/BackButton.DnufDsem.js";function Sl(s){let e,l;return e=new Ne({props:{height:"1rem",style:"margin: 0.8125rem 0;"}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},p:A,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function $l(s){let e,l="-";return{c(){e=P("span"),e.textContent=l,this.h()},l(t){e=y(t,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1s4sarz"&&(e.textContent=l),this.h()},h(){k(e,"class","svelte-irqfat")},m(t,n){$(t,e,n)},p:A,i:A,o:A,d(t){t&&m(e)}}}function Al(s){let e,l,t;return{c(){e=P("span"),l=q("$"),t=q(s[3]),this.h()},l(n){e=y(n,"SPAN",{class:!0});var o=x(e);l=U(o,"$"),t=U(o,s[3]),o.forEach(m),this.h()},h(){k(e,"class","balance svelte-irqfat")},m(n,o){$(n,e,o),p(e,l),p(e,t)},p(n,o){o&8&&me(t,n[3])},i:A,o:A,d(n){n&&m(e)}}}function Nl(s){let e,l,t="Total Saved",n,o,r,i;const a=[Al,$l,Sl],c=[];function u(f,d){return f[2]&&f[0]?0:f[1]?2:1}return o=u(s),r=c[o]=a[o](s),{c(){e=P("div"),l=P("h2"),l.textContent=t,n=O(),r.c(),this.h()},l(f){e=y(f,"DIV",{class:!0});var d=x(e);l=y(d,"H2",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-13wd6tl"&&(l.textContent=t),n=H(d),r.l(d),d.forEach(m),this.h()},h(){k(l,"class","svelte-irqfat"),k(e,"class","svelte-irqfat")},m(f,d){$(f,e,d),p(e,l),p(e,n),c[o].m(e,null),i=!0},p(f,[d]){let h=o;o=u(f),o===h?c[o].p(f,d):(ve(),R(c[h],1,1,()=>{c[h]=null}),we(),r=c[o],r?r.p(f,d):(r=c[o]=a[o](f),r.c()),I(r,1),r.m(e,null))},i(f){i||(I(r),i=!0)},o(f){R(r),i=!1},d(f){f&&m(e),c[o].d()}}}function Il(s,e,l){let t,n,o,r,i,a,c,u,f,d;return re(s,Xe,h=>l(9,c=h)),re(s,lt,h=>l(0,u=h)),re(s,He,h=>l(1,f=h)),re(s,Lt,h=>l(2,d=h)),s.$$.update=()=>{s.$$.dirty&6&&l(6,t=d&&f?d.reduce((h,_)=>Me(_.args.to)===Me(f)?h+BigInt(_.args.value):Me(_.args.from)===Me(f)?h-BigInt(_.args.value):h,0n):0n),s.$$.dirty&1&&l(8,n=(u==null?void 0:u.map(nt))??[]),s.$$.dirty&768&&l(7,o=n.filter(h=>c===void 0||h.blockNumber>c)),s.$$.dirty&128&&l(5,r=o.reduce((h,_)=>h+_.amount,0n)),s.$$.dirty&96&&l(4,i=t-r),s.$$.dirty&16&&l(3,a=i>0n?et(i):"0.00")},[u,f,d,a,i,r,t,o,n,c]}class Tl extends Ee{constructor(e){super(),Re(this,e,Il,Nl,Te,{})}}function mt(s){let e,l="Check Prizes",t,n;return{c(){e=P("button"),e.textContent=l,this.h()},l(o){e=y(o,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-t600dr"&&(e.textContent=l),this.h()},h(){k(e,"class","teal-button")},m(o,r){$(o,e,r),t||(n=Le(e,"click",function(){Dt(s[0])&&s[0].apply(this,arguments)}),t=!0)},p(o,r){s=o},d(o){o&&m(e),t=!1,n()}}}function _t(s){let e,l="Claim Bonuses",t,n;return{c(){e=P("button"),e.textContent=l,this.h()},l(o){e=y(o,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1gro55n"&&(e.textContent=l),this.h()},h(){k(e,"class","teal-button")},m(o,r){$(o,e,r),t||(n=Le(e,"click",function(){Dt(s[1])&&s[1].apply(this,arguments)}),t=!0)},p(o,r){s=o},d(o){o&&m(e),t=!1,n()}}}function Dl(s){var o,r;let e,l,t=!!((o=s[2])!=null&&o.list.length)&&mt(s),n=!!((r=s[3])!=null&&r.length)&&_t(s);return{c(){e=P("div"),t&&t.c(),l=O(),n&&n.c(),this.h()},l(i){e=y(i,"DIV",{class:!0});var a=x(e);t&&t.l(a),l=H(a),n&&n.l(a),a.forEach(m),this.h()},h(){k(e,"class","svelte-174v0zc")},m(i,a){$(i,e,a),t&&t.m(e,null),p(e,l),n&&n.m(e,null)},p(i,[a]){var c,u;(c=i[2])!=null&&c.list.length?t?t.p(i,a):(t=mt(i),t.c(),t.m(e,l)):t&&(t.d(1),t=null),(u=i[3])!=null&&u.length?n?n.p(i,a):(n=_t(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:A,o:A,d(i){i&&m(e),t&&t.d(),n&&n.d()}}}function El(s,e,l){let t,n;re(s,tt,i=>l(2,t=i)),re(s,Ye,i=>l(3,n=i));let{onClickCheckPrizes:o}=e,{onClickClaimBonusRewards:r}=e;return s.$$set=i=>{"onClickCheckPrizes"in i&&l(0,o=i.onClickCheckPrizes),"onClickClaimBonusRewards"in i&&l(1,r=i.onClickClaimBonusRewards)},[o,r,t,n]}class Rl extends Ee{constructor(e){super(),Re(this,e,El,Dl,Te,{onClickCheckPrizes:0,onClickClaimBonusRewards:1})}}function Bl(s){let e,l;return e=new Ne({props:{height:".75rem"}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},p:A,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function Vl(s){let e,l="-";return{c(){e=P("span"),e.textContent=l,this.h()},l(t){e=y(t,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1s4sarz"&&(e.textContent=l),this.h()},h(){k(e,"class","svelte-1aidw8g")},m(t,n){$(t,e,n)},p:A,i:A,o:A,d(t){t&&m(e)}}}function xl(s){let e,l,t;return{c(){e=P("span"),l=q("$"),t=q(s[7]),this.h()},l(n){e=y(n,"SPAN",{class:!0});var o=x(e);l=U(o,"$"),t=U(o,s[7]),o.forEach(m),this.h()},h(){k(e,"class","svelte-1aidw8g")},m(n,o){$(n,e,o),p(e,l),p(e,t)},p(n,o){o&128&&me(t,n[7])},i:A,o:A,d(n){n&&m(e)}}}function Wl(s){let e,l;return e=new Ne({props:{height:".75rem"}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},p:A,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function Ll(s){let e,l="-";return{c(){e=P("span"),e.textContent=l,this.h()},l(t){e=y(t,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1s4sarz"&&(e.textContent=l),this.h()},h(){k(e,"class","svelte-1aidw8g")},m(t,n){$(t,e,n)},p:A,i:A,o:A,d(t){t&&m(e)}}}function Ol(s){let e,l,t;return{c(){e=P("span"),l=q("+$"),t=q(s[8]),this.h()},l(n){e=y(n,"SPAN",{class:!0});var o=x(e);l=U(o,"+$"),t=U(o,s[8]),o.forEach(m),this.h()},h(){k(e,"class","svelte-1aidw8g")},m(n,o){$(n,e,o),p(e,l),p(e,t)},p(n,o){o&256&&me(t,n[8])},i:A,o:A,d(n){n&&m(e)}}}function Hl(s){let e,l;return e=new Ne({props:{height:".75rem"}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},p:A,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function jl(s){let e,l="-";return{c(){e=P("span"),e.textContent=l,this.h()},l(t){e=y(t,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1s4sarz"&&(e.textContent=l),this.h()},h(){k(e,"class","svelte-1aidw8g")},m(t,n){$(t,e,n)},p:A,i:A,o:A,d(t){t&&m(e)}}}function Fl(s){let e,l,t;return{c(){e=P("span"),l=q("+$"),t=q(s[6]),this.h()},l(n){e=y(n,"SPAN",{class:!0});var o=x(e);l=U(o,"+$"),t=U(o,s[6]),o.forEach(m),this.h()},h(){k(e,"class","svelte-1aidw8g")},m(n,o){$(n,e,o),p(e,l),p(e,t)},p(n,o){o&64&&me(t,n[6])},i:A,o:A,d(n){n&&m(e)}}}function ql(s){let e,l,t,n="Total Deposited",o,r,i,a,c,u,f="Total Prizes Won",d,h,_,C,w,g,S="Total Bonus Rewards Claimed",j,T,M,B;const G=[xl,Vl,Bl],b=[];function D(L,J){return L[2]&&L[4]?0:L[1]?2:1}r=D(s),i=b[r]=G[r](s);const Z=[Ol,Ll,Wl],Q=[];function W(L,J){return L[4]&&L[3]?0:L[1]?2:1}h=W(s),_=Q[h]=Z[h](s);const V=[Fl,jl,Hl],N=[];function F(L,J){return L[0]&&L[5]?0:L[1]?2:1}return T=F(s),M=N[T]=V[T](s),{c(){e=P("div"),l=P("div"),t=P("h3"),t.textContent=n,o=O(),i.c(),a=O(),c=P("div"),u=P("h3"),u.textContent=f,d=O(),_.c(),C=O(),w=P("div"),g=P("h3"),g.textContent=S,j=O(),M.c(),this.h()},l(L){e=y(L,"DIV",{class:!0});var J=x(e);l=y(J,"DIV",{class:!0});var Y=x(l);t=y(Y,"H3",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-q2ye5"&&(t.textContent=n),o=H(Y),i.l(Y),Y.forEach(m),a=H(J),c=y(J,"DIV",{class:!0});var pe=x(c);u=y(pe,"H3",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-1qk5lwj"&&(u.textContent=f),d=H(pe),_.l(pe),pe.forEach(m),C=H(J),w=y(J,"DIV",{class:!0});var ze=x(w);g=y(ze,"H3",{class:!0,"data-svelte-h":!0}),K(g)!=="svelte-17pt6a2"&&(g.textContent=S),j=H(ze),M.l(ze),ze.forEach(m),J.forEach(m),this.h()},h(){k(t,"class","svelte-1aidw8g"),k(l,"class","stat svelte-1aidw8g"),k(u,"class","svelte-1aidw8g"),k(c,"class","stat svelte-1aidw8g"),k(g,"class","svelte-1aidw8g"),k(w,"class","stat svelte-1aidw8g"),k(e,"class","stats svelte-1aidw8g")},m(L,J){$(L,e,J),p(e,l),p(l,t),p(l,o),b[r].m(l,null),p(e,a),p(e,c),p(c,u),p(c,d),Q[h].m(c,null),p(e,C),p(e,w),p(w,g),p(w,j),N[T].m(w,null),B=!0},p(L,[J]){let Y=r;r=D(L),r===Y?b[r].p(L,J):(ve(),R(b[Y],1,1,()=>{b[Y]=null}),we(),i=b[r],i?i.p(L,J):(i=b[r]=G[r](L),i.c()),I(i,1),i.m(l,null));let pe=h;h=W(L),h===pe?Q[h].p(L,J):(ve(),R(Q[pe],1,1,()=>{Q[pe]=null}),we(),_=Q[h],_?_.p(L,J):(_=Q[h]=Z[h](L),_.c()),I(_,1),_.m(c,null));let ze=T;T=F(L),T===ze?N[T].p(L,J):(ve(),R(N[ze],1,1,()=>{N[ze]=null}),we(),M=N[T],M?M.p(L,J):(M=N[T]=V[T](L),M.c()),I(M,1),M.m(w,null))},i(L){B||(I(i),I(_),I(M),B=!0)},o(L){R(i),R(_),R(M),B=!1},d(L){L&&m(e),b[r].d(),Q[h].d(),N[T].d()}}}function Ul(s,e,l){let t,n,o,r,i,a,c,u,f,d,h,_,C,w,g,S,j,T,M,B,G;return re(s,st,b=>l(19,g=b)),re(s,ot,b=>l(0,S=b)),re(s,He,b=>l(1,j=b)),re(s,Lt,b=>l(2,T=b)),re(s,Xe,b=>l(20,M=b)),re(s,Ot,b=>l(3,B=b)),re(s,lt,b=>l(4,G=b)),s.$$.update=()=>{s.$$.dirty&16&&l(18,t=(G==null?void 0:G.map(nt))??[]),s.$$.dirty&262144&&l(11,n=t.reduce((b,D)=>b+D.amount,0n)),s.$$.dirty&1310720&&l(17,o=t.filter(b=>M!==void 0&&b.blockNumber<=M)),s.$$.dirty&131072&&l(14,r=o.reduce((b,D)=>b+D.amount,0n)),s.$$.dirty&524296&&l(16,i=(B==null?void 0:B.filter(b=>!!BigInt(b.args.payout)).map(b=>Ht(b,g)))??[]),s.$$.dirty&1114112&&l(15,a=i.filter(b=>M!==void 0&&b.blockNumber<=M)),s.$$.dirty&32768&&l(13,c=a.reduce((b,D)=>b+D.amount,0n)),s.$$.dirty&24576&&l(8,u=et(r+c)),s.$$.dirty&6&&l(12,f=T&&j?T.reduce((b,D)=>Me(D.args.to)===Me(j)?b+BigInt(D.args.value):Me(D.args.from)===Me(j)?b-BigInt(D.args.value):b,0n):0n),s.$$.dirty&6144&&l(10,d=f-n),s.$$.dirty&1024&&l(7,h=d>=0n?et(d):"?"),s.$$.dirty&524289&&l(9,_=(S==null?void 0:S.reduce((b,D)=>{const Z=parseFloat(jt(D.amount,D.token.decimals)),Q=g[Me(D.token.address)]??0;return b+Z*Q},0))??0),s.$$.dirty&512&&l(6,C=_.toLocaleString("en",{minimumFractionDigits:2,maximumFractionDigits:2})),s.$$.dirty&524289&&l(5,w=S==null?void 0:S.every(b=>g[Me(b.token.address)]!==void 0))},[S,j,T,B,G,w,C,h,u,_,d,n,f,c,r,a,i,o,t,g,M]}class Yl extends Ee{constructor(e){super(),Re(this,e,Ul,ql,Te,{})}}function Gl(s){let e,l,t,n,o,r,i;const a=[Kl,Xl],c=[];function u(f,d){return f[2]?0:1}return l=u(s),t=c[l]=a[l](s),{c(){e=P("button"),t.c(),this.h()},l(f){e=y(f,"BUTTON",{type:!0,class:!0});var d=x(e);t.l(d),d.forEach(m),this.h()},h(){k(e,"type","submit"),k(e,"class","teal-button"),e.disabled=n=s[2]||s[0]},m(f,d){$(f,e,d),c[l].m(e,null),o=!0,r||(i=Le(e,"click",s[7]),r=!0)},p(f,d){let h=l;l=u(f),l!==h&&(ve(),R(c[h],1,1,()=>{c[h]=null}),we(),t=c[l],t||(t=c[l]=a[l](f),t.c()),I(t,1),t.m(e,null)),(!o||d&5&&n!==(n=f[2]||f[0]))&&(e.disabled=n)},i(f){o||(I(t),o=!0)},o(f){R(t),o=!1},d(f){f&&m(e),c[l].d(),r=!1,i()}}}function Jl(s){let e,l="Claim Bonuses";return{c(){e=P("button"),e.textContent=l,this.h()},l(t){e=y(t,"BUTTON",{"data-svelte-h":!0}),K(e)!=="svelte-5mc5b6"&&(e.textContent=l),this.h()},h(){e.disabled=!0},m(t,n){$(t,e,n)},p:A,i:A,o:A,d(t){t&&m(e)}}}function Xl(s){let e;return{c(){e=q("Claim Bonuses")},l(l){e=U(l,"Claim Bonuses")},m(l,t){$(l,e,t)},i:A,o:A,d(l){l&&m(e)}}}function Kl(s){let e,l;return e=new Ne({props:{height:".75rem"}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function Ql(s){let e,l,t,n;const o=[Jl,Gl],r=[];function i(a,c){var u;return!a[4].wallet||!a[3]||!((u=a[5])!=null&&u.length)?0:1}return e=i(s),l=r[e]=o[e](s),{c(){l.c(),t=Se()},l(a){l.l(a),t=Se()},m(a,c){r[e].m(a,c),$(a,t,c),n=!0},p(a,[c]){let u=e;e=i(a),e===u?r[e].p(a,c):(ve(),R(r[u],1,1,()=>{r[u]=null}),we(),l=r[e],l?l.p(a,c):(l=r[e]=o[e](a),l.c()),I(l,1),l.m(t.parentNode,t))},i(a){n||(I(l),n=!0)},o(a){R(l),n=!1},d(a){a&&m(t),r[e].d(a)}}}function Zl(s,e,l){let t,n,o,r;re(s,He,d=>l(3,t=d)),re(s,fl,d=>l(8,n=d)),re(s,dl,d=>l(4,o=d)),re(s,Ye,d=>l(5,r=d));let{disabled:i=!1}=e,{onSuccess:a=()=>{}}=e,c=!1;const u=async()=>{n&&t&&(Ye.set(await hl(n,t)),ot.set(await ml(n,t)))},f=()=>yl(r,{onSend:()=>{l(2,c=!0)},onSuccess:()=>{u(),a()},onSettled:()=>{l(2,c=!1),_l(t)}});return s.$$set=d=>{"disabled"in d&&l(0,i=d.disabled),"onSuccess"in d&&l(1,a=d.onSuccess)},[i,a,c,t,o,r,u,f]}class en extends Ee{constructor(e){super(),Re(this,e,Zl,Ql,Te,{disabled:0,onSuccess:1})}}function pt(s,e,l){const t=s.slice();t[8]=e[l];const n=t[4](t[8]);t[9]=n;const o=t[9].toLocaleString("en",{maximumFractionDigits:4});return t[10]=o,t}function tn(s){let e,l="Success!",t,n,o="You claimed your available bonus rewards",r,i,a;return i=new Ml({props:{style:"max-height: 7.5rem; margin: 2rem 0 1rem;"}}),{c(){e=P("h3"),e.textContent=l,t=O(),n=P("span"),n.textContent=o,r=O(),ue(i.$$.fragment),this.h()},l(c){e=y(c,"H3",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1o74v5t"&&(e.textContent=l),t=H(c),n=y(c,"SPAN",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-127eczs"&&(n.textContent=o),r=H(c),fe(i.$$.fragment,c),this.h()},h(){k(e,"class","success-title svelte-9sh31a"),k(n,"class","success-info svelte-9sh31a")},m(c,u){$(c,e,u),$(c,t,u),$(c,n,u),$(c,r,u),de(i,c,u),a=!0},p:A,i(c){a||(I(i.$$.fragment,c),a=!0)},o(c){R(i.$$.fragment,c),a=!1},d(c){c&&(m(e),m(t),m(n),m(r)),he(i,c)}}}function ln(s){let e,l,t,n;const o=[sn,nn],r=[];function i(a,c){return a[0]&&a[2]?0:1}return e=i(s),l=r[e]=o[e](s),{c(){l.c(),t=Se()},l(a){l.l(a),t=Se()},m(a,c){r[e].m(a,c),$(a,t,c),n=!0},p(a,c){let u=e;e=i(a),e===u?r[e].p(a,c):(ve(),R(r[u],1,1,()=>{r[u]=null}),we(),l=r[e],l?l.p(a,c):(l=r[e]=o[e](a),l.c()),I(l,1),l.m(t.parentNode,t))},i(a){n||(I(l),n=!0)},o(a){R(l),n=!1},d(a){a&&m(t),r[e].d(a)}}}function nn(s){let e,l;return e=new Ne({props:{height:"1rem"}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},p:A,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function sn(s){let e,l,t,n;const o=[rn,on],r=[];function i(a,c){return a[0].length>0?0:1}return e=i(s),l=r[e]=o[e](s),{c(){l.c(),t=Se()},l(a){l.l(a),t=Se()},m(a,c){r[e].m(a,c),$(a,t,c),n=!0},p(a,c){let u=e;e=i(a),e===u?r[e].p(a,c):(ve(),R(r[u],1,1,()=>{r[u]=null}),we(),l=r[e],l?l.p(a,c):(l=r[e]=o[e](a),l.c()),I(l,1),l.m(t.parentNode,t))},i(a){n||(I(l),n=!0)},o(a){R(l),n=!1},d(a){a&&m(t),r[e].d(a)}}}function on(s){let e,l="You don't have any bonus rewards to claim";return{c(){e=P("span"),e.textContent=l,this.h()},l(t){e=y(t,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-tcl0lh"&&(e.textContent=l),this.h()},h(){k(e,"class","rewards-title svelte-9sh31a")},m(t,n){$(t,e,n)},p:A,i:A,o:A,d(t){t&&m(e)}}}function rn(s){let e,l,t,n,o,r,i,a,c,u,f,d=Ve(s[0]),h=[];for(let _=0;_<d.length;_+=1)h[_]=bt(pt(s,d,_));return u=new en({props:{onSuccess:s[7]}}),{c(){e=P("span"),l=q("You have "),t=P("strong"),n=q("$"),o=q(s[3]),r=q(" in bonus rewards to claim"),i=O(),a=P("div");for(let _=0;_<h.length;_+=1)h[_].c();c=O(),ue(u.$$.fragment),this.h()},l(_){e=y(_,"SPAN",{class:!0});var C=x(e);l=U(C,"You have "),t=y(C,"STRONG",{class:!0});var w=x(t);n=U(w,"$"),o=U(w,s[3]),w.forEach(m),r=U(C," in bonus rewards to claim"),C.forEach(m),i=H(_),a=y(_,"DIV",{class:!0});var g=x(a);for(let S=0;S<h.length;S+=1)h[S].l(g);g.forEach(m),c=H(_),fe(u.$$.fragment,_),this.h()},h(){k(t,"class","svelte-9sh31a"),k(e,"class","rewards-title svelte-9sh31a"),k(a,"class","rewards-list svelte-9sh31a")},m(_,C){$(_,e,C),p(e,l),p(e,t),p(t,n),p(t,o),p(e,r),$(_,i,C),$(_,a,C);for(let w=0;w<h.length;w+=1)h[w]&&h[w].m(a,null);$(_,c,C),de(u,_,C),f=!0},p(_,C){if((!f||C&8)&&me(o,_[3]),C&17){d=Ve(_[0]);let g;for(g=0;g<d.length;g+=1){const S=pt(_,d,g);h[g]?h[g].p(S,C):(h[g]=bt(S),h[g].c(),h[g].m(a,null))}for(;g<h.length;g+=1)h[g].d(1);h.length=d.length}const w={};C&2&&(w.onSuccess=_[7]),u.$set(w)},i(_){f||(I(u.$$.fragment,_),f=!0)},o(_){R(u.$$.fragment,_),f=!1},d(_){_&&(m(e),m(i),m(a),m(c)),Ue(h,_),he(u,_)}}}function bt(s){let e,l,t="Unclaimed Reward",n,o,r=s[10]+"",i,a,c=s[8].token.symbol+"",u,f;return{c(){e=P("div"),l=P("span"),l.textContent=t,n=O(),o=P("span"),i=q(r),a=O(),u=q(c),f=O(),this.h()},l(d){e=y(d,"DIV",{class:!0});var h=x(e);l=y(h,"SPAN",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-6bi1xx"&&(l.textContent=t),n=H(h),o=y(h,"SPAN",{class:!0});var _=x(o);i=U(_,r),a=H(_),u=U(_,c),_.forEach(m),f=H(h),h.forEach(m),this.h()},h(){k(l,"class","svelte-9sh31a"),k(o,"class","svelte-9sh31a"),k(e,"class","reward-item svelte-9sh31a")},m(d,h){$(d,e,h),p(e,l),p(e,n),p(e,o),p(o,i),p(o,a),p(o,u),p(e,f)},p(d,h){h&1&&r!==(r=d[10]+"")&&me(i,r),h&1&&c!==(c=d[8].token.symbol+"")&&me(u,c)},d(d){d&&m(e)}}}function an(s){let e,l,t,n;const o=[ln,tn],r=[];function i(a,c){return a[1]?1:0}return l=i(s),t=r[l]=o[l](s),{c(){e=P("div"),t.c(),this.h()},l(a){e=y(a,"DIV",{class:!0});var c=x(e);t.l(c),c.forEach(m),this.h()},h(){k(e,"class","card svelte-9sh31a")},m(a,c){$(a,e,c),r[l].m(e,null),n=!0},p(a,[c]){let u=l;l=i(a),l===u?r[l].p(a,c):(ve(),R(r[u],1,1,()=>{r[u]=null}),we(),t=r[l],t?t.p(a,c):(t=r[l]=o[l](a),t.c()),I(t,1),t.m(e,null))},i(a){n||(I(t),n=!0)},o(a){R(t),n=!1},d(a){a&&m(e),r[l].d()}}}function cn(s,e,l){let t,n,o,r,i;re(s,st,f=>l(6,r=f)),re(s,Ye,f=>l(0,i=f));let a=!1;const c=f=>parseFloat(jt(Object.values(f.epochs).reduce((d,h)=>d+h,0n),f.token.decimals)),u=()=>l(1,a=!0);return s.$$.update=()=>{s.$$.dirty&65&&l(5,t=(i==null?void 0:i.reduce((f,d)=>{const h=c(d),_=r[Me(d.token.address)]??0;return f+h*_},0))??0),s.$$.dirty&32&&l(3,n=t.toLocaleString("en",{minimumFractionDigits:2,maximumFractionDigits:2})),s.$$.dirty&65&&l(2,o=i==null?void 0:i.every(f=>r[Me(f.token.address)]!==void 0))},[i,a,o,n,c,t,r,u]}class un extends Ee{constructor(e){super(),Re(this,e,cn,an,Te,{})}}const fn=s=>({}),kt=s=>({slot:"button-content"});function dn(s){let e;const l=s[2]["button-content"],t=Et(l,s,s[3],kt);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,o){t&&t.m(n,o),e=!0},p(n,o){t&&t.p&&(!e||o&8)&&Rt(t,l,n,n[3],e?Vt(l,n[3],o,fn):Bt(n[3]),kt)},i(n){e||(I(t,n),e=!0)},o(n){R(t,n),e=!1},d(n){t&&t.d(n)}}}function gt(s){let e,l=`This prize was not able to be automatically compounded back into your savings. Ensure your account is configured correctly to avoid
        this happening again in the future.`;return{c(){e=P("em"),e.textContent=l,this.h()},l(t){e=y(t,"EM",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-18cpffd"&&(e.textContent=l),this.h()},h(){k(e,"class","fallback-prize-description svelte-1ac8kkm")},m(t,n){$(t,e,n)},d(t){t&&m(e)}}}function hn(s){return{c:A,l:A,m:A,p:A,i:A,o:A,d:A}}function mn(s){let e,l=s[4]+"",t;return{c(){e=P("span"),t=q(l),this.h()},l(n){e=y(n,"SPAN",{class:!0});var o=x(e);t=U(o,l),o.forEach(m),this.h()},h(){k(e,"class","svelte-1ac8kkm")},m(n,o){$(n,e,o),p(e,t)},p(n,o){o&1&&l!==(l=n[4]+"")&&me(t,l)},i:A,o:A,d(n){n&&m(e)}}}function _n(s){let e,l;return e=new Ne({props:{height:".75rem"}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},p:A,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function pn(s){let e,l,t="Prize Amount:",n,o,r,i=s[0].formattedAmount+"",a;return{c(){e=P("div"),l=P("span"),l.textContent=t,n=O(),o=P("span"),r=q("$"),a=q(i),this.h()},l(c){e=y(c,"DIV",{class:!0});var u=x(e);l=y(u,"SPAN",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-7f9ce4"&&(l.textContent=t),n=H(u),o=y(u,"SPAN",{class:!0});var f=x(o);r=U(f,"$"),a=U(f,i),f.forEach(m),u.forEach(m),this.h()},h(){k(l,"class","svelte-1ac8kkm"),k(o,"class","svelte-1ac8kkm"),k(e,"class","item svelte-1ac8kkm")},m(c,u){$(c,e,u),p(e,l),p(e,n),p(e,o),p(o,r),p(o,a)},p(c,u){u&1&&i!==(i=c[0].formattedAmount+"")&&me(a,i)},d(c){c&&m(e)}}}function bn(s){let e,l,t="Reward Amount:",n,o,r=s[0].token.formattedAmount+"",i,a,c=s[0].token.symbol+"",u,f,d,h,_="Token Price:",C,w,g,S=(s[0].token.price??"?")+"",j,T,M,B,G="Reward Value:",b,D,Z,Q=s[0].formattedAmount+"",W;return{c(){e=P("div"),l=P("span"),l.textContent=t,n=O(),o=P("span"),i=q(r),a=O(),u=q(c),f=O(),d=P("div"),h=P("span"),h.textContent=_,C=O(),w=P("span"),g=q("$"),j=q(S),T=O(),M=P("div"),B=P("span"),B.textContent=G,b=O(),D=P("span"),Z=q("$"),W=q(Q),this.h()},l(V){e=y(V,"DIV",{class:!0});var N=x(e);l=y(N,"SPAN",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-gmfbx3"&&(l.textContent=t),n=H(N),o=y(N,"SPAN",{class:!0});var F=x(o);i=U(F,r),a=H(F),u=U(F,c),F.forEach(m),N.forEach(m),f=H(V),d=y(V,"DIV",{class:!0});var L=x(d);h=y(L,"SPAN",{class:!0,"data-svelte-h":!0}),K(h)!=="svelte-19x9o98"&&(h.textContent=_),C=H(L),w=y(L,"SPAN",{class:!0});var J=x(w);g=U(J,"$"),j=U(J,S),J.forEach(m),L.forEach(m),T=H(V),M=y(V,"DIV",{class:!0});var Y=x(M);B=y(Y,"SPAN",{class:!0,"data-svelte-h":!0}),K(B)!=="svelte-1ht03xi"&&(B.textContent=G),b=H(Y),D=y(Y,"SPAN",{class:!0});var pe=x(D);Z=U(pe,"$"),W=U(pe,Q),pe.forEach(m),Y.forEach(m),this.h()},h(){k(l,"class","svelte-1ac8kkm"),k(o,"class","svelte-1ac8kkm"),k(e,"class","item svelte-1ac8kkm"),k(h,"class","svelte-1ac8kkm"),k(w,"class","svelte-1ac8kkm"),k(d,"class","item svelte-1ac8kkm"),k(B,"class","svelte-1ac8kkm"),k(D,"class","svelte-1ac8kkm"),k(M,"class","item svelte-1ac8kkm")},m(V,N){$(V,e,N),p(e,l),p(e,n),p(e,o),p(o,i),p(o,a),p(o,u),$(V,f,N),$(V,d,N),p(d,h),p(d,C),p(d,w),p(w,g),p(w,j),$(V,T,N),$(V,M,N),p(M,B),p(M,b),p(M,D),p(D,Z),p(D,W)},p(V,N){N&1&&r!==(r=V[0].token.formattedAmount+"")&&me(i,r),N&1&&c!==(c=V[0].token.symbol+"")&&me(u,c),N&1&&S!==(S=(V[0].token.price??"?")+"")&&me(j,S),N&1&&Q!==(Q=V[0].formattedAmount+"")&&me(W,Q)},d(V){V&&(m(e),m(f),m(d),m(T),m(M))}}}function kn(s){let e,l,t="Prize Amount:",n,o,r=s[0].token.formattedAmount+"",i,a,c=s[0].token.symbol+"",u,f,d,h,_="Token Price:",C,w,g,S=(s[0].token.price??"?")+"",j,T,M,B,G="Prize Value:",b,D,Z,Q=s[0].formattedAmount+"",W;return{c(){e=P("div"),l=P("span"),l.textContent=t,n=O(),o=P("span"),i=q(r),a=O(),u=q(c),f=O(),d=P("div"),h=P("span"),h.textContent=_,C=O(),w=P("span"),g=q("$"),j=q(S),T=O(),M=P("div"),B=P("span"),B.textContent=G,b=O(),D=P("span"),Z=q("$"),W=q(Q),this.h()},l(V){e=y(V,"DIV",{class:!0});var N=x(e);l=y(N,"SPAN",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-7f9ce4"&&(l.textContent=t),n=H(N),o=y(N,"SPAN",{class:!0});var F=x(o);i=U(F,r),a=H(F),u=U(F,c),F.forEach(m),N.forEach(m),f=H(V),d=y(V,"DIV",{class:!0});var L=x(d);h=y(L,"SPAN",{class:!0,"data-svelte-h":!0}),K(h)!=="svelte-19x9o98"&&(h.textContent=_),C=H(L),w=y(L,"SPAN",{class:!0});var J=x(w);g=U(J,"$"),j=U(J,S),J.forEach(m),L.forEach(m),T=H(V),M=y(V,"DIV",{class:!0});var Y=x(M);B=y(Y,"SPAN",{class:!0,"data-svelte-h":!0}),K(B)!=="svelte-1kzr9qf"&&(B.textContent=G),b=H(Y),D=y(Y,"SPAN",{class:!0});var pe=x(D);Z=U(pe,"$"),W=U(pe,Q),pe.forEach(m),Y.forEach(m),this.h()},h(){k(l,"class","svelte-1ac8kkm"),k(o,"class","svelte-1ac8kkm"),k(e,"class","item svelte-1ac8kkm"),k(h,"class","svelte-1ac8kkm"),k(w,"class","svelte-1ac8kkm"),k(d,"class","item svelte-1ac8kkm"),k(B,"class","svelte-1ac8kkm"),k(D,"class","svelte-1ac8kkm"),k(M,"class","item svelte-1ac8kkm")},m(V,N){$(V,e,N),p(e,l),p(e,n),p(e,o),p(o,i),p(o,a),p(o,u),$(V,f,N),$(V,d,N),p(d,h),p(d,C),p(d,w),p(w,g),p(w,j),$(V,T,N),$(V,M,N),p(M,B),p(M,b),p(M,D),p(D,Z),p(D,W)},p(V,N){N&1&&r!==(r=V[0].token.formattedAmount+"")&&me(i,r),N&1&&c!==(c=V[0].token.symbol+"")&&me(u,c),N&1&&S!==(S=(V[0].token.price??"?")+"")&&me(j,S),N&1&&Q!==(Q=V[0].formattedAmount+"")&&me(W,Q)},d(V){V&&(m(e),m(f),m(d),m(T),m(M))}}}function gn(s){let e,l,t,n,o="Date:",r,i,a,c,u,f,d="Transaction:",h,_,C=s[0].txHash.slice(0,12)+"",w,g,S,j=s[0].type==="fallbackPrize"&&gt(),T={ctx:s,current:null,token:null,hasCatch:!1,pending:_n,then:mn,catch:hn,value:4,blocks:[,,,]};Je(i=Ge(s[0].blockNumber),T);function M(b,D){return b[0].type==="fallbackPrize"?kn:b[0].type==="bonusReward"?bn:pn}let B=M(s),G=B(s);return{c(){e=P("div"),j&&j.c(),l=O(),t=P("div"),n=P("span"),n.textContent=o,r=O(),T.block.c(),a=O(),G.c(),c=O(),u=P("div"),f=P("span"),f.textContent=d,h=O(),_=P("a"),w=q(C),g=q("..."),this.h()},l(b){e=y(b,"DIV",{slot:!0,class:!0});var D=x(e);j&&j.l(D),l=H(D),t=y(D,"DIV",{class:!0});var Z=x(t);n=y(Z,"SPAN",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-kykrgs"&&(n.textContent=o),r=H(Z),T.block.l(Z),Z.forEach(m),a=H(D),G.l(D),c=H(D),u=y(D,"DIV",{class:!0});var Q=x(u);f=y(Q,"SPAN",{class:!0,"data-svelte-h":!0}),K(f)!=="svelte-z7r45w"&&(f.textContent=d),h=H(Q),_=y(Q,"A",{href:!0,target:!0,class:!0});var W=x(_);w=U(W,C),g=U(W,"..."),W.forEach(m),Q.forEach(m),D.forEach(m),this.h()},h(){k(n,"class","svelte-1ac8kkm"),k(t,"class","item svelte-1ac8kkm"),k(f,"class","svelte-1ac8kkm"),k(_,"href",s[1]),k(_,"target","_blank"),k(_,"class","svelte-1ac8kkm"),k(u,"class","item svelte-1ac8kkm"),k(e,"slot","modal-content"),k(e,"class","modal-content svelte-1ac8kkm")},m(b,D){$(b,e,D),j&&j.m(e,null),p(e,l),p(e,t),p(t,n),p(t,r),T.block.m(t,T.anchor=null),T.mount=()=>t,T.anchor=null,p(e,a),G.m(e,null),p(e,c),p(e,u),p(u,f),p(u,h),p(u,_),p(_,w),p(_,g),S=!0},p(b,D){s=b,s[0].type==="fallbackPrize"?j||(j=gt(),j.c(),j.m(e,l)):j&&(j.d(1),j=null),T.ctx=s,D&1&&i!==(i=Ge(s[0].blockNumber))&&Je(i,T)||Ft(T,s,D),B===(B=M(s))&&G?G.p(s,D):(G.d(1),G=B(s),G&&(G.c(),G.m(e,c))),(!S||D&1)&&C!==(C=s[0].txHash.slice(0,12)+"")&&me(w,C),(!S||D&2)&&k(_,"href",s[1])},i(b){S||(I(T.block),S=!0)},o(b){for(let D=0;D<3;D+=1){const Z=T.blocks[D];R(Z)}S=!1},d(b){b&&m(e),j&&j.d(),T.block.d(),T.token=null,T=null,G.d()}}}function vn(s){let e,l;return e=new qt({props:{title:s[0].type==="fallbackPrize"?"Prize Details":"Reward Details",$$slots:{"modal-content":[gn],"button-content":[dn]},$$scope:{ctx:s}}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.title=t[0].type==="fallbackPrize"?"Prize Details":"Reward Details"),n&11&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function wn(s,e,l){let t,{$$slots:n={},$$scope:o}=e,{prize:r}=e;return s.$$set=i=>{"prize"in i&&l(0,r=i.prize),"$$scope"in i&&l(3,o=i.$$scope)},s.$$.update=()=>{s.$$.dirty&1&&l(1,t=`${pl.blockExplorers.default.url}/tx/${r.txHash}`)},[r,t,n,o]}class Cn extends Ee{constructor(e){super(),Re(this,e,wn,vn,Te,{prize:0})}}function vt(s,e,l){const t=s.slice();return t[14]=e[l],t}function Pn(s){let e,l,t=Ve(s[4].slice(0,s[3]?void 0:3)),n=[];for(let r=0;r<t.length;r+=1)n[r]=wt(vt(s,t,r));const o=r=>R(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Se()},l(r){for(let i=0;i<n.length;i+=1)n[i].l(r);e=Se()},m(r,i){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,i);$(r,e,i),l=!0},p(r,i){if(i&24){t=Ve(r[4].slice(0,r[3]?void 0:3));let a;for(a=0;a<t.length;a+=1){const c=vt(r,t,a);n[a]?(n[a].p(c,i),I(n[a],1)):(n[a]=wt(c),n[a].c(),I(n[a],1),n[a].m(e.parentNode,e))}for(ve(),a=t.length;a<n.length;a+=1)o(a);we()}},i(r){if(!l){for(let i=0;i<t.length;i+=1)I(n[i]);l=!0}},o(r){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)R(n[i]);l=!1},d(r){r&&m(e),Ue(n,r)}}}function yn(s){let e,l="No prizes... yet";return{c(){e=P("span"),e.textContent=l},l(t){e=y(t,"SPAN",{"data-svelte-h":!0}),K(e)!=="svelte-kszbv2"&&(e.textContent=l)},m(t,n){$(t,e,n)},p:A,i:A,o:A,d(t){t&&m(e)}}}function zn(s){let e,l;return e=new Ne({props:{height:".75rem"}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},p:A,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function Mn(s){let e,l,t,n;return l=new zl({props:{$$slots:{"button-content":[Rn]},$$scope:{ctx:s}}}),{c(){e=P("span"),ue(l.$$.fragment),t=q(`
          to continue...`),this.h()},l(o){e=y(o,"SPAN",{class:!0});var r=x(e);fe(l.$$.fragment,r),t=U(r,`
          to continue...`),r.forEach(m),this.h()},h(){k(e,"class","wallet-prompt svelte-17rsoje")},m(o,r){$(o,e,r),de(l,e,null),p(e,t),n=!0},p(o,r){const i={};r&262144&&(i.$$scope={dirty:r,ctx:o}),l.$set(i)},i(o){n||(I(l.$$.fragment,o),n=!0)},o(o){R(l.$$.fragment,o),n=!1},d(o){o&&m(e),he(l)}}}function Sn(s){return{c:A,l:A,m:A,p:A,i:A,o:A,d:A}}function $n(s){let e,l=s[17]+"",t;return{c(){e=P("span"),t=q(l),this.h()},l(n){e=y(n,"SPAN",{class:!0});var o=x(e);t=U(o,l),o.forEach(m),this.h()},h(){k(e,"class","monospace svelte-17rsoje")},m(n,o){$(n,e,o),p(e,t)},p(n,o){o&24&&l!==(l=n[17]+"")&&me(t,l)},i:A,o:A,d(n){n&&m(e)}}}function An(s){let e,l;return e=new Ne({props:{height:".75rem"}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},p:A,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function Nn(s){let e,l,t=s[14].formattedAmount+"",n;return{c(){e=P("span"),l=q("+$"),n=q(t)},l(o){e=y(o,"SPAN",{});var r=x(e);l=U(r,"+$"),n=U(r,t),r.forEach(m)},m(o,r){$(o,e,r),p(e,l),p(e,n)},p(o,r){r&24&&t!==(t=o[14].formattedAmount+"")&&me(n,t)},i:A,o:A,d(o){o&&m(e)}}}function In(s){let e,l,t,n;const o=[Dn,Tn],r=[];function i(a,c){return a[14].token.price!==void 0?0:1}return e=i(s),l=r[e]=o[e](s),{c(){l.c(),t=Se()},l(a){l.l(a),t=Se()},m(a,c){r[e].m(a,c),$(a,t,c),n=!0},p(a,c){let u=e;e=i(a),e===u?r[e].p(a,c):(ve(),R(r[u],1,1,()=>{r[u]=null}),we(),l=r[e],l?l.p(a,c):(l=r[e]=o[e](a),l.c()),I(l,1),l.m(t.parentNode,t))},i(a){n||(I(l),n=!0)},o(a){R(l),n=!1},d(a){a&&m(t),r[e].d(a)}}}function Tn(s){let e,l;return e=new Ne({props:{height:".75rem"}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},p:A,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function Dn(s){let e,l;return e=new Cn({props:{prize:s[14],$$slots:{"button-content":[En]},$$scope:{ctx:s}}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},p(t,n){const o={};n&24&&(o.prize=t[14]),n&262168&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function En(s){let e,l,t=s[14].formattedAmount+"",n;return{c(){e=P("span"),l=q("+$"),n=q(t),this.h()},l(o){e=y(o,"SPAN",{slot:!0,class:!0});var r=x(e);l=U(r,"+$"),n=U(r,t),r.forEach(m),this.h()},h(){k(e,"slot","button-content"),k(e,"class","value-with-underlying svelte-17rsoje")},m(o,r){$(o,e,r),p(e,l),p(e,n)},p(o,r){r&24&&t!==(t=o[14].formattedAmount+"")&&me(n,t)},d(o){o&&m(e)}}}function wt(s){let e,l,t,n,o,r="•",i,a,c=s[14].type==="bonusReward"?"Bonus Reward":"Prize",u,f,d,h,_,C,w={ctx:s,current:null,token:null,hasCatch:!1,pending:An,then:$n,catch:Sn,value:17,blocks:[,,,]};Je(t=Ge(s[14].blockNumber),w);const g=[In,Nn],S=[];function j(T,M){return T[14].type==="fallbackPrize"||T[14].type==="bonusReward"?0:1}return d=j(s),h=S[d]=g[d](s),{c(){e=P("div"),l=P("div"),w.block.c(),n=O(),o=P("span"),o.textContent=r,i=O(),a=P("span"),u=q(c),f=O(),h.c(),_=O(),this.h()},l(T){e=y(T,"DIV",{class:!0});var M=x(e);l=y(M,"DIV",{class:!0});var B=x(l);w.block.l(B),n=H(B),o=y(B,"SPAN",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-7hh8jk"&&(o.textContent=r),i=H(B),a=y(B,"SPAN",{class:!0});var G=x(a);u=U(G,c),G.forEach(m),B.forEach(m),f=H(M),h.l(M),_=H(M),M.forEach(m),this.h()},h(){k(o,"class","svelte-17rsoje"),k(a,"class","svelte-17rsoje"),k(l,"class","row-info svelte-17rsoje"),k(e,"class","row svelte-17rsoje")},m(T,M){$(T,e,M),p(e,l),w.block.m(l,w.anchor=null),w.mount=()=>l,w.anchor=n,p(l,n),p(l,o),p(l,i),p(l,a),p(a,u),p(e,f),S[d].m(e,null),p(e,_),C=!0},p(T,M){s=T,w.ctx=s,M&24&&t!==(t=Ge(s[14].blockNumber))&&Je(t,w)||Ft(w,s,M),(!C||M&24)&&c!==(c=s[14].type==="bonusReward"?"Bonus Reward":"Prize")&&me(u,c);let B=d;d=j(s),d===B?S[d].p(s,M):(ve(),R(S[B],1,1,()=>{S[B]=null}),we(),h=S[d],h?h.p(s,M):(h=S[d]=g[d](s),h.c()),I(h,1),h.m(e,_))},i(T){C||(I(w.block),I(h),C=!0)},o(T){for(let M=0;M<3;M+=1){const B=w.blocks[M];R(B)}R(h),C=!1},d(T){T&&m(e),w.block.d(),w.token=null,w=null,S[d].d()}}}function Rn(s){let e,l="Connect your wallet";return{c(){e=P("span"),e.textContent=l,this.h()},l(t){e=y(t,"SPAN",{slot:!0,class:!0,"data-svelte-h":!0}),K(e)!=="svelte-95u87d"&&(e.textContent=l),this.h()},h(){k(e,"slot","button-content"),k(e,"class","svelte-17rsoje")},m(t,n){$(t,e,n)},p:A,d(t){t&&m(e)}}}function Ct(s){let e,l="See More",t,n;return{c(){e=P("button"),e.textContent=l,this.h()},l(o){e=y(o,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-q5bvhe"&&(e.textContent=l),this.h()},h(){k(e,"class","expand svelte-17rsoje")},m(o,r){$(o,e,r),t||(n=Le(e,"click",s[13]),t=!0)},p:A,d(o){o&&m(e),t=!1,n()}}}function Bn(s){let e,l,t='<span class="img-wrapper svelte-17rsoje"></span> <span class="title svelte-17rsoje">Prizes</span>',n,o,r,i,a,c,u;const f=[Mn,zn,yn,Pn],d=[];function h(C,w){return C[5]?!C[2]||!C[1]||!C[0]?1:C[4].length?3:2:0}i=h(s),a=d[i]=f[i](s);let _=s[4].length>3&&!s[3]&&Ct(s);return{c(){e=P("div"),l=P("div"),l.innerHTML=t,n=O(),o=P("div"),r=P("div"),a.c(),c=O(),_&&_.c(),this.h()},l(C){e=y(C,"DIV",{class:!0});var w=x(e);l=y(w,"DIV",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-1g4e7vz"&&(l.innerHTML=t),n=H(w),o=y(w,"DIV",{class:!0});var g=x(o);r=y(g,"DIV",{class:!0});var S=x(r);a.l(S),S.forEach(m),c=H(g),_&&_.l(g),g.forEach(m),w.forEach(m),this.h()},h(){k(l,"class","banner svelte-17rsoje"),k(r,"class","rows svelte-17rsoje"),k(o,"class","content-wrapper svelte-17rsoje"),k(e,"class","card svelte-17rsoje")},m(C,w){$(C,e,w),p(e,l),p(e,n),p(e,o),p(o,r),d[i].m(r,null),p(o,c),_&&_.m(o,null),u=!0},p(C,[w]){let g=i;i=h(C),i===g?d[i].p(C,w):(ve(),R(d[g],1,1,()=>{d[g]=null}),we(),a=d[i],a?a.p(C,w):(a=d[i]=f[i](C),a.c()),I(a,1),a.m(r,null)),C[4].length>3&&!C[3]?_?_.p(C,w):(_=Ct(C),_.c(),_.m(o,null)):_&&(_.d(1),_=null)},i(C){u||(I(a),u=!0)},o(C){R(a),u=!1},d(C){C&&m(e),d[i].d(),_&&_.d()}}}function Vn(s,e,l){let t,n,o,r,i,a,c,u,f,d,h,_;re(s,st,g=>l(11,c=g)),re(s,ot,g=>l(0,u=g)),re(s,Xe,g=>l(12,f=g)),re(s,Ot,g=>l(1,d=g)),re(s,lt,g=>l(2,h=g)),re(s,He,g=>l(5,_=g));let C=!1;const w=()=>l(3,C=!0);return s.$$.update=()=>{s.$$.dirty&4&&l(10,t=(h==null?void 0:h.map(nt))??[]),s.$$.dirty&5120&&l(8,n=t.filter(g=>f!==void 0&&g.blockNumber<=f)),s.$$.dirty&2050&&l(9,o=(d==null?void 0:d.filter(g=>!!BigInt(g.args.payout)).map(g=>Ht(g,c)))??[]),s.$$.dirty&4608&&l(7,r=o.filter(g=>f!==void 0&&g.blockNumber<=f)),s.$$.dirty&2049&&l(6,i=(u==null?void 0:u.map(g=>bl(g,c)))??[]),s.$$.dirty&448&&l(4,a=[...n,...r,...i].sort((g,S)=>{const j=S.blockNumber-g.blockNumber;return j===0n?0:j>0n?1:-1}))},[u,d,h,C,a,_,i,r,n,o,t,c,f,w]}class xn extends Ee{constructor(e){super(),Re(this,e,Vn,Bn,Te,{})}}const Wn=s=>({}),Pt=s=>({});function yt(s,e,l){const t=s.slice();return t[51]=e[l],t[53]=l,t}function zt(s,e,l){const t=s.slice();return t[54]=e[l],t}function Mt(s){let e,l=s[54].content+"",t,n;return{c(){e=P("div"),t=q(l),n=O(),this.h()},l(o){e=y(o,"DIV",{class:!0});var r=x(e);t=U(r,l),n=H(r),r.forEach(m),this.h()},h(){k(e,"class","prize-bubble svelte-w6b0lt"),Ae(e,"top",s[54].top),Ae(e,"left",s[54].left),Ae(e,"background-color",s[54].backgroundColor)},m(o,r){$(o,e,r),p(e,t),p(e,n)},p(o,r){r[0]&512&&l!==(l=o[54].content+"")&&me(t,l),r[0]&512&&Ae(e,"top",o[54].top),r[0]&512&&Ae(e,"left",o[54].left),r[0]&512&&Ae(e,"background-color",o[54].backgroundColor)},d(o){o&&m(e)}}}function St(s){let e,l='<img src="/icons/down.svg" alt="" class="svelte-w6b0lt"/> ',t,n;function o(){return s[18](s[53])}return{c(){e=P("button"),e.innerHTML=l,this.h()},l(r){e=y(r,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1tp1mk5"&&(e.innerHTML=l),this.h()},h(){k(e,"class","start-btn svelte-w6b0lt")},m(r,i){$(r,e,i),t||(n=Le(e,"click",o),t=!0)},p(r,i){s=r},d(r){r&&m(e),t=!1,n()}}}function Ln(s){let e,l,t,n,o,r,i,a,c;return{c(){e=P("div"),l=q("Prizes "),t=P("span"),n=q(s[7]),o=O(),r=P("div"),i=q("Total "),a=P("span"),c=q(s[8]),this.h()},l(u){e=y(u,"DIV",{class:!0});var f=x(e);l=U(f,"Prizes "),t=y(f,"SPAN",{class:!0});var d=x(t);n=U(d,s[7]),d.forEach(m),f.forEach(m),o=H(u),r=y(u,"DIV",{class:!0});var h=x(r);i=U(h,"Total "),a=y(h,"SPAN",{class:!0});var _=x(a);c=U(_,s[8]),_.forEach(m),h.forEach(m),this.h()},h(){k(t,"class","prizes-won svelte-w6b0lt"),k(e,"class","prize-counter svelte-w6b0lt"),k(a,"class","prizes-total svelte-w6b0lt"),k(r,"class","prize-counter svelte-w6b0lt")},m(u,f){$(u,e,f),p(e,l),p(e,t),p(t,n),$(u,o,f),$(u,r,f),p(r,i),p(r,a),p(a,c)},p(u,f){f[0]&128&&me(n,u[7]),f[0]&256&&me(c,u[8])},i:A,o:A,d(u){u&&(m(e),m(o),m(r))}}}function On(s){let e;const l=s[16]["end-card"],t=Et(l,s,s[15],Pt);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,o){t&&t.m(n,o),e=!0},p(n,o){t&&t.p&&(!e||o[0]&32768)&&Rt(t,l,n,n[15],e?Vt(l,n[15],o,Wn):Bt(n[15]),Pt)},i(n){e||(I(t,n),e=!0)},o(n){R(t,n),e=!1},d(n){t&&t.d(n)}}}function Hn(s){let e,l,t,n,o,r,i,a,c,u='<h3 class="svelte-w6b0lt">Drop a ball to reveal your prizes!</h3>',f,d,h,_,C,w,g,S=`${s[0]}px`,j=`${s[1]}px`,T,M=Ve(s[9]),B=[];for(let W=0;W<M.length;W+=1)B[W]=Mt(zt(s,M,W));let G=Ve(new Array(s[2]).fill(0)),b=[];for(let W=0;W<G.length;W+=1)b[W]=St(yt(s,G,W));const D=[On,Ln],Z=[];function Q(W,V){return W[6].state==="done"?0:1}return h=Q(s),_=Z[h]=D[h](s),{c(){e=P("div"),l=P("canvas"),t=O(),n=P("div");for(let W=0;W<B.length;W+=1)B[W].c();o=O(),r=P("div"),i=P("div");for(let W=0;W<b.length;W+=1)b[W].c();a=O(),c=P("div"),c.innerHTML=u,f=O(),d=P("div"),_.c(),C=O(),w=P("img"),this.h()},l(W){e=y(W,"DIV",{id:!0,class:!0});var V=x(e);l=y(V,"CANVAS",{class:!0}),x(l).forEach(m),t=H(V),n=y(V,"DIV",{class:!0});var N=x(n);for(let Y=0;Y<B.length;Y+=1)B[Y].l(N);N.forEach(m),o=H(V),r=y(V,"DIV",{class:!0});var F=x(r);i=y(F,"DIV",{class:!0});var L=x(i);for(let Y=0;Y<b.length;Y+=1)b[Y].l(L);L.forEach(m),a=H(F),c=y(F,"DIV",{class:!0,"data-svelte-h":!0}),K(c)!=="svelte-16dnb9p"&&(c.innerHTML=u),f=H(F),d=y(F,"DIV",{class:!0});var J=x(d);_.l(J),J.forEach(m),F.forEach(m),C=H(V),w=y(V,"IMG",{src:!0,alt:!0,class:!0}),V.forEach(m),this.h()},h(){k(l,"class","svelte-w6b0lt"),k(n,"class","prize-bubble-container svelte-w6b0lt"),k(i,"class","start-btn-container svelte-w6b0lt"),k(c,"class","prize-info-container svelte-w6b0lt"),k(d,"class","prize-results-container svelte-w6b0lt"),k(r,"class","ui svelte-w6b0lt"),xt(w.src,g="/pooltogether-square.svg")||k(w,"src",g),k(w,"alt",""),k(w,"class","svelte-w6b0lt"),Ae(w,"display","none"),k(e,"id","plinko"),k(e,"class","ready svelte-w6b0lt"),Ae(e,"width",S),Ae(e,"height",j)},m(W,V){$(W,e,V),p(e,l),s[17](l),p(e,t),p(e,n);for(let N=0;N<B.length;N+=1)B[N]&&B[N].m(n,null);p(e,o),p(e,r),p(r,i);for(let N=0;N<b.length;N+=1)b[N]&&b[N].m(i,null);p(r,a),p(r,c),p(r,f),p(r,d),Z[h].m(d,null),p(e,C),p(e,w),s[19](w),s[20](e),T=!0},p(W,V){if(V[0]&512){M=Ve(W[9]);let F;for(F=0;F<M.length;F+=1){const L=zt(W,M,F);B[F]?B[F].p(L,V):(B[F]=Mt(L),B[F].c(),B[F].m(n,null))}for(;F<B.length;F+=1)B[F].d(1);B.length=M.length}if(V[0]&1028){G=Ve(new Array(W[2]).fill(0));let F;for(F=0;F<G.length;F+=1){const L=yt(W,G,F);b[F]?b[F].p(L,V):(b[F]=St(L),b[F].c(),b[F].m(i,null))}for(;F<b.length;F+=1)b[F].d(1);b.length=G.length}let N=h;h=Q(W),h===N?Z[h].p(W,V):(ve(),R(Z[N],1,1,()=>{Z[N]=null}),we(),_=Z[h],_?_.p(W,V):(_=Z[h]=D[h](W),_.c()),I(_,1),_.m(d,null)),V[0]&1&&S!==(S=`${W[0]}px`)&&Ae(e,"width",S),V[0]&2&&j!==(j=`${W[1]}px`)&&Ae(e,"height",j)},i(W){T||(I(_),T=!0)},o(W){R(_),T=!1},d(W){W&&m(e),s[17](null),Ue(B,W),Ue(b,W),Z[h].d(),s[19](null),s[20](null)}}}const Ce=100,xe=90,je=10,Be=25,Ze=.3,We=6,Fe=1.5,$t=7,jn=100;function Fn(s,e,l){let{$$slots:t={},$$scope:n}=e,{width:o}=e,{height:r}=e,{columns:i=4}=e,{prizes:a=[]}=e,{onStart:c=()=>{}}=e,{onDone:u=()=>{}}=e,f,d,h,_=!1;tl(()=>{l(14,_=!0)}),ll(()=>{l(14,_=!1)});const C=Ce/i,w=C*.75,g=C/5,S=C*.1,j=g;let T=100,M=1,B=0,G=0,b={state:"ready",frame:0,ms:0,ball:{pos:{x:-2*g,y:-w},rot:0,rotVel:0,vel:{x:0,y:0},acc:{x:0,y:100}},nextPrizeRow:0,prizesWon:0,prizesTotal:0,animationTriggers:[]},D=b,Z=null,Q="0",W="$0",V=[],N=[],F=0;const L=Math.max(...a.map(z=>z.size));let J=0,Y=[],pe=[];const ze=Array(i).fill("^");ze[0]=" ",ze[Math.floor(i/2)]=" ";let Oe=1,rt=0;if(a.forEach((z,ne)=>{for(let se=0;se<z.userWon;se++){const E=Array(i).fill("^");E[0]=ne,E[Math.floor(i/2)]=" ",Y.push(E)}const v=z.count-z.userWon;if(v>0){for(let se=0;se<v;se++)if(Math.random()<=z.userOdds){const E=Array(i).fill("^");E[0]=" ",E[Math.floor(i/2)]=ne,Y.push(E),rt++}}z.userWon>0&&z.userOdds<Oe&&(Oe=z.userOdds)}),Oe>1&&(Oe=1),rt==0){const z=Array(i).fill("^");z[0]=" ",z[Math.floor(i/2)]=Math.floor(Math.random()*a.length),Y.push(z)}const Yt=1+Math.log(1/Oe)/Math.log(i/2);for(;Y.length<Yt;)Y.push(ze);for(let z=0;z<Y.length;z++){const ne=Math.floor(Math.random()*Y.length),v=Y[ne];Y[ne]=Y[z],Y[z]=v}Y.forEach((z,ne)=>{Number.isInteger(z[0])&&ne>=J&&(J=ne+1)});const Gt=z=>{let ne=Math.floor(Math.random()*z.length);for(;z[ne]!=="^";)ne++;return[...z.slice(ne%z.length,z.length),...z.slice(0,ne%z.length)]};for(;J>Y.length-3;)Y.push(ze);Y[J]=Gt(Y[J]);const at=z=>{let ne=-w-j-g;return z.y>=w*2&&(ne+=z.y-w*2),ne},it=z=>Math.log(z+1)/Math.log(L+1),$e=z=>{var ne;return((ne=d.computedStyleMap().get(z))==null?void 0:ne.toString())??""},Ke=(z,ne,v)=>{const se=at(z),E=f.getContext("2d");if(!E)throw new Error("Missing 2D context...");E.clearRect(0,0,f.width,f.height),E.scale(1/M,1/M);const ge=Math.max(0,Math.floor(se/w));for(let ee=ge;ee<=ge+Math.ceil(T/w);ee++){const ae=ee*w-se;if(ee>0&&ee%We==0){const be=ee/We-1,te=Y[be];if(te){const _e=be%2==0?-1:1,ie=_e*C*(Fe*v)/1e3%Ce;for(let X=0;X<i*2;X++){const ce=(X+pe[be])%i,ke=X*C+ie-(_e>0?Ce:0);if(ke+C>0&&ke-C<Ce){if(te[ce]==="^"){E.fillStyle=$e("--spike-color"),E.beginPath(),E.moveTo(ke,ae+S),E.lineTo(ke+S,ae);for(let Pe=1;Pe<=$t*2;Pe++)E.lineTo(ke+S+Pe*(C-S*2)/($t*2),Pe%2==0?ae:ae-S);E.lineTo(ke+C,ae+S),E.fill()}else if(Number.isInteger(te[ce])){const Pe=a[te[ce]],De=it(Pe.size),Ie=S+(g-S)*De,dt=!(z.y-se<ae||ce>0);E.fillStyle=$e(`--prize-${Math.floor((1-De)*8)}-color`),dt?E.strokeStyle=$e("--peg-color"):E.strokeStyle=`hsla(${Math.floor(360*v/1e3)%360}, 100%, 50%, 0.6)`,E.lineWidth=1,E.setLineDash([1,1]),E.lineDashOffset=v/500,E.beginPath(),E.ellipse(ke+C/2,ae,(C-S*3)/2,S/2,0,Math.PI,Math.PI*2),E.stroke(),dt||(E.beginPath(),E.ellipse(ke+C/2,ae+Ie/2,Ie,Ie,0,0,Math.PI*2),E.fill()),E.beginPath(),E.ellipse(ke+C/2,ae,(C-S*3)/2,S/2,0,0,Math.PI),E.stroke()}E.fillStyle=$e("--peg-color"),E.beginPath(),E.ellipse(ke,ae,S,S,0,0,Math.PI*2),E.fill()}}}}else for(let be=0;be<=i;be++){E.fillStyle=$e("--peg-color");const te=ee%2==0;E.beginPath(),E.ellipse((te?be:be+.5)*C,ae,S,S,0,0,Math.PI*2),E.fill()}}E.fillStyle=$e("--ball-color"),E.beginPath(),E.ellipse(z.x,z.y-se,g,g,0,0,Math.PI*2),E.fill(),E.save(),E.translate(z.x,z.y-se),E.rotate(ne),E.translate(-z.x,se-z.y),E.drawImage(h,z.x-g*.66,z.y-se-g*.66,g*1.32,g*1.32),E.restore();const oe=new WeakSet;for(let ee=0;ee<N.length;ee++)v>=N[ee].startMs&&(v<N[ee].startMs+N[ee].durationMs?(E.save(),E.translate(0,-se),N[ee].draw(E,(v-N[ee].startMs)/N[ee].durationMs),E.restore()):oe.add(N[ee]));N=N.filter(ee=>!oe.has(ee)),E.setTransform(1,0,0,1,0,0)},Jt=(z,ne,v)=>{const se=Y[z];if(se){const E=z%2==0?-1:1;for(let ge=0;ge<se.length;ge++){const oe=se[ge];if(Number.isInteger(oe)){const ee=a[oe];let ae=(ge+.5-pe[z]+E*Fe*v/1e3)*C;ae=(ae%Ce+Ce)%Ce;const ye=it(ee.size),be=(z+1)*We*w-at(ne),te=_e=>{const ie={top:`${Math.min(100,100*be/T)}%`,left:`${100*ae/Ce+_e}%`,content:`$${ee.size.toLocaleString("en",{minimumFractionDigits:2,maximumFractionDigits:2})}`,backgroundColor:$e(`--prize-${Math.floor((1-ye)*8)}-color`)};V.push(ie)};te(0),te(-100),te(100)}}}},ct=(z,ne)=>{const v=JSON.parse(JSON.stringify(z));v.frame++,v.ms=z.ms+Be,v.animationTriggers=[],v.ball.vel.x+=v.ball.acc.x*Be/1e3,v.ball.vel.y+=v.ball.acc.y*Be/1e3;const se=Math.sqrt(v.ball.vel.x*v.ball.vel.x+v.ball.vel.y*v.ball.vel.y);se>xe&&(v.ball.vel.x=xe*v.ball.vel.x/se,v.ball.vel.y=xe*v.ball.vel.y/se),v.ball.pos.x+=v.ball.vel.x*Be/1e3,v.ball.pos.y+=v.ball.vel.y*Be/1e3,v.ball.rot+=v.ball.rotVel*Be/1e3,v.ball.pos.x<g&&(v.ball.pos.x=g,v.ball.vel.x<0&&(v.ball.vel.x*=-1),v.ball.vel.x*=Ze,v.ball.rotVel+=2),v.ball.pos.x>Ce-g&&(v.ball.pos.x=Ce-g,v.ball.vel.x>0&&(v.ball.vel.x*=-1),v.ball.vel.x*=Ze,v.ball.rotVel-=2);const E=Math.round(v.ball.pos.y/w);if(E>0){let ge,oe={x:0,y:0};if(E>0&&E%We==0){const ye=E/We-1;oe={x:Fe*C*(ye%2==0?-1:1),y:0},ge=oe.x*v.ms/1e3%C}else ge=E%2==0?0:C/2;const ae={x:Math.round((v.ball.pos.x-ge)/C)*C+ge,y:E*w};if(le.dist(v.ball.pos,ae)<g+S){const ye={x:ae.x-v.ball.pos.x,y:ae.y-v.ball.pos.y};if(le.angleBetween(ye,v.ball.vel)<Math.PI/2){const _e=le.project(v.ball.vel,ye),ie=le.sub(v.ball.vel,_e);if(v.ball.vel=le.add(ie,le.smul(_e,-Ze)),oe.x!=0){const X=le.neg(ye),ce=le.angleBetween(oe,X);ce<Math.PI/4&&(v.ball.vel=le.add(v.ball.vel,le.smul(oe,Math.cos(ce))))}v.ball.rotVel*=.5,v.ball.rotVel+=.25*le.mag(ie)*(ie.y>0?-1:1)*(v.ball.vel.x>0?-1:1)}const te=le.norm(ye);if(v.ball.pos=le.add(ae,le.smul(te,-1*(g+S))),ne&&se>xe*.2&&v.ms-F>=jn){F=v.ms;const _e=le.add(ae,le.smul(te,-1*S)),ie=[];for(let X=0;X<5;X++){const ce=Math.random()*Math.PI*2,ke=se/xe*(S/2+S*2*Math.random()),Pe=se/xe*S*.3+S*.3*Math.random();ie.push({endPos:{x:Math.cos(ce)*ke,y:Math.sin(ce)*ke},size:Pe,color:Math.random()>.5?$e("--peg-color"):$e("--spike-color")})}v.animationTriggers.push({startMs:v.ms,durationMs:250,draw:(X,ce)=>{for(const ke of ie){const Pe=(1-ce)*ke.size,De=le.add(_e,le.smul(ke.endPos,ce)),Ie=Math.random();X.fillStyle=ke.color,X.beginPath(),X.moveTo(De.x+Pe*Math.cos(Ie),De.y+Pe*Math.sin(Ie)),X.lineTo(De.x+Pe*Math.cos(Ie+Math.PI*2/3),De.y+Pe*Math.sin(Ie+Math.PI*2/3)),X.lineTo(De.x+Pe*Math.cos(Ie+Math.PI*4/3),De.y+Pe*Math.sin(Ie+Math.PI*4/3)),X.fill()}}})}}}if(v.ball.rotVel>je&&(v.ball.rotVel=je),v.ball.rotVel<-je&&(v.ball.rotVel=-je),v.ball.pos.y>=(v.nextPrizeRow+1)*w*We){if(v.nextPrizeRow==J){if(v.state="done",ne){const oe={x:v.ball.pos.x,y:v.ball.pos.y},ee=[],ae=1e3,ye=10;for(let be=0;be<ye;be++){const te=Math.random()*Math.PI*2,_e=.25+Math.random()*.75,ie=g/Math.log(ye+1),X={x:Math.cos(te)*_e*g,y:Math.sin(te)*_e*g};ee.push({offsetPos:X,size:ie,color:Math.random()>.66?"#ffffff":$e("--ball-color")})}v.animationTriggers.push({startMs:v.ms,durationMs:ae,draw:(be,te)=>{for(const _e of ee){const ie=_e.size*(1-te),X=le.add(oe,le.add(le.smul(le.smul(le.add(v.ball.vel,le.smul(v.ball.acc,te*ae/1e3)),ae/1e3),te),le.smul(_e.offsetPos,1+te*3))),ce=_e.offsetPos.x*te;be.fillStyle=_e.color,be.beginPath(),be.moveTo(X.x+ie*Math.cos(ce),X.y+ie*Math.sin(ce)),be.lineTo(X.x+ie*Math.cos(ce+Math.PI*2/3),X.y+ie*Math.sin(ce+Math.PI*2/3)),be.lineTo(X.x+ie*Math.cos(ce+Math.PI*4/3),X.y+ie*Math.sin(ce+Math.PI*4/3)),be.fill()}}})}u()}const ge=Y[v.nextPrizeRow];if(ge&&Number.isInteger(ge[0])){const oe=a[ge[0]];if(v.prizesWon++,v.prizesTotal+=oe.size,ne){const ee=v.ball.pos,ae=[],ye=5+Math.log(1+oe.size)*2,be=3e3;for(let te=0;te<ye;te++){const _e=Math.random()*Math.PI*2,ie=Ce/2+Ce*Math.random(),X=se/xe*g*.4+g*.4*Math.random();ae.push({endPos:{x:Math.cos(_e)*ie,y:Math.sin(_e)*ie},size:X,color:$e(`--prize-${Math.floor(Math.random()*9)}-color`)})}v.animationTriggers.push({startMs:v.ms,durationMs:be,draw:(te,_e)=>{for(const ie of ae){const X=(1-_e)*ie.size,ce=le.add(ee,le.add(le.smul(ie.endPos,Math.sqrt(_e)),le.smul(v.ball.acc,Math.pow(_e*be/2e3,2)))),ke=ie.endPos.x*_e;te.fillStyle=ie.color,te.beginPath(),te.moveTo(ce.x+X*Math.cos(ke),ce.y+X*Math.sin(ke)),te.lineTo(ce.x+X*Math.cos(ke+Math.PI*2/3),ce.y+X*Math.sin(ke+Math.PI*2/3)),te.lineTo(ce.x+X*Math.cos(ke+Math.PI*4/3),ce.y+X*Math.sin(ke+Math.PI*4/3)),te.fill()}}})}}v.nextPrizeRow++}return v},ut=()=>{if((b.state==="playing"||b.state==="done")&&_){requestAnimationFrame(ut);const z=performance.now(),ne=Math.min(Be,z-B);if(G+=ne,B=z,b.state==="playing"){D==b&&(D=ct(b,!0)),G>=D.ms&&(l(6,b=D),N.push(...D.animationTriggers)),l(7,Q=`${b.prizesWon}`),l(8,W=`$${b.prizesTotal.toFixed(2)}`);let v=Z??D;for(Z=v;v.ball.pos.y<D.ball.pos.y+T*1.5;){const oe=v.nextPrizeRow;if(v=ct(v,!1),Z=v,v.nextPrizeRow>oe){let ee=Fe*C*(oe%2==0?-1:1)*v.ms/1e3%Ce;ee<0&&(ee+=Ce),pe[oe]=Math.floor((v.ball.pos.x-ee)/C)%i,pe[oe]<0&&(pe[oe]+=i),pe[oe]=(i-pe[oe])%i}}const se=Math.min(G,D.ms),E=(se-b.ms)/Be,ge=le.add(le.smul(b.ball.pos,1-E),le.smul(D.ball.pos,E));Ke(ge,b.ball.rot,se),l(9,V=[]);for(let oe=b.nextPrizeRow;oe<b.nextPrizeRow+2;oe++)oe>=0&&Jt(oe,ge,se)}else Ke({x:-Ce,y:b.ball.pos.y},0,G),d.classList.contains("done")||(d.classList.remove("playing"),d.classList.add("done"),b.prizesWon>0&&setTimeout(il,200))}},Xt=(z,ne)=>{l(3,f.width=z,f),l(3,f.height=ne,f),M=Ce/f.width,T=M*f.height,d.style.setProperty("--start-btn-size",`${.6*z/i}px`),Ke(b.ball.pos,b.ball.rot,G)},ft=z=>{l(6,b.state="playing",b),B=performance.now(),d.classList.remove("ready"),d.classList.add("playing"),l(6,b.ball.pos.x=Ce*(z+.4+.2*Math.random())/i,b),ut(),c()};function Kt(z){qe[z?"unshift":"push"](()=>{f=z,l(3,f)})}const Qt=z=>ft(z);function Zt(z){qe[z?"unshift":"push"](()=>{h=z,l(5,h)})}function el(z){qe[z?"unshift":"push"](()=>{d=z,l(4,d)})}return s.$$set=z=>{"width"in z&&l(0,o=z.width),"height"in z&&l(1,r=z.height),"columns"in z&&l(2,i=z.columns),"prizes"in z&&l(11,a=z.prizes),"onStart"in z&&l(12,c=z.onStart),"onDone"in z&&l(13,u=z.onDone),"$$scope"in z&&l(15,n=z.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&16387&&_&&Xt(o,r)},[o,r,i,f,d,h,b,Q,W,V,ft,a,c,u,_,n,t,Kt,Qt,Zt,el]}class qn extends Ee{constructor(e){super(),Re(this,e,Fn,Hn,Te,{width:0,height:1,columns:2,prizes:11,onStart:12,onDone:13},null,[-1,-1])}}function At(s){const e=s[3].filter(l=>l.userWon>0);s[18]=e}function Un(s){const e=s.slice(),l=e[3].reduce((n,o)=>n+o.size*o.userWon,0);e[19]=l;const t=e[19].toLocaleString("en",{maximumFractionDigits:2});return e[20]=t,e}function Yn(s){let e,l="Claim Bonus Rewards",t,n,o,r,i;return n=new un({}),r=new Ut({props:{onClick:s[16]}}),{c(){e=P("h2"),e.textContent=l,t=O(),ue(n.$$.fragment),o=O(),ue(r.$$.fragment),this.h()},l(a){e=y(a,"H2",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-78ytfr"&&(e.textContent=l),t=H(a),fe(n.$$.fragment,a),o=H(a),fe(r.$$.fragment,a),this.h()},h(){k(e,"class","svelte-exw2ac")},m(a,c){$(a,e,c),$(a,t,c),de(n,a,c),$(a,o,c),de(r,a,c),i=!0},p(a,c){const u={};c&1&&(u.onClick=a[16]),r.$set(u)},i(a){i||(I(n.$$.fragment,a),I(r.$$.fragment,a),i=!0)},o(a){R(n.$$.fragment,a),R(r.$$.fragment,a),i=!1},d(a){a&&(m(e),m(t),m(o)),he(n,a),he(r,a)}}}function Gn(s){let e,l,t,n,o;const r=[Kn,Xn],i=[];function a(c,u){return c[2]&&c[3].length>0?0:1}return e=a(s),l=i[e]=r[e](s),n=new Ut({props:{onClick:s[15]}}),{c(){l.c(),t=O(),ue(n.$$.fragment)},l(c){l.l(c),t=H(c),fe(n.$$.fragment,c)},m(c,u){i[e].m(c,u),$(c,t,u),de(n,c,u),o=!0},p(c,u){let f=e;e=a(c),e===f?i[e].p(c,u):(ve(),R(i[f],1,1,()=>{i[f]=null}),we(),l=i[e],l?l.p(c,u):(l=i[e]=r[e](c),l.c()),I(l,1),l.m(t.parentNode,t));const d={};u&1&&(d.onClick=c[15]),n.$set(d)},i(c){o||(I(l),I(n.$$.fragment,c),o=!0)},o(c){R(l),R(n.$$.fragment,c),o=!1},d(c){c&&m(t),i[e].d(c),he(n,c)}}}function Jn(s){let e,l,t,n,o,r,i,a,c,u=s[6]&&It(s);return l=new Tl({}),n=new Yl({}),r=new xn({}),a=new Rl({props:{onClickCheckPrizes:s[13],onClickClaimBonusRewards:s[14]}}),{c(){u&&u.c(),e=O(),ue(l.$$.fragment),t=O(),ue(n.$$.fragment),o=O(),ue(r.$$.fragment),i=O(),ue(a.$$.fragment)},l(f){u&&u.l(f),e=H(f),fe(l.$$.fragment,f),t=H(f),fe(n.$$.fragment,f),o=H(f),fe(r.$$.fragment,f),i=H(f),fe(a.$$.fragment,f)},m(f,d){u&&u.m(f,d),$(f,e,d),de(l,f,d),$(f,t,d),de(n,f,d),$(f,o,d),de(r,f,d),$(f,i,d),de(a,f,d),c=!0},p(f,d){f[6]?u?(u.p(f,d),d&64&&I(u,1)):(u=It(f),u.c(),I(u,1),u.m(e.parentNode,e)):u&&(ve(),R(u,1,1,()=>{u=null}),we());const h={};d&1&&(h.onClickCheckPrizes=f[13]),d&1&&(h.onClickClaimBonusRewards=f[14]),a.$set(h)},i(f){c||(I(u),I(l.$$.fragment,f),I(n.$$.fragment,f),I(r.$$.fragment,f),I(a.$$.fragment,f),c=!0)},o(f){R(u),R(l.$$.fragment,f),R(n.$$.fragment,f),R(r.$$.fragment,f),R(a.$$.fragment,f),c=!1},d(f){f&&(m(e),m(t),m(o),m(i)),u&&u.d(f),he(l,f),he(n,f),he(r,f),he(a,f)}}}function Xn(s){let e,l;return e=new Ne({}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},p:A,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function Kn(s){let e,l;const t=[s[5],{prizes:s[3]},{onStart:s[7]}];let n={$$slots:{"end-card":[Zn]},$$scope:{ctx:s}};for(let o=0;o<t.length;o+=1)n=sl(n,t[o]);return e=new qn({props:n}),{c(){ue(e.$$.fragment)},l(o){fe(e.$$.fragment,o)},m(o,r){de(e,o,r),l=!0},p(o,r){const i=r&168?cl(t,[r&32&&ul(o[5]),r&8&&{prizes:o[3]},r&128&&{onStart:o[7]}]):{};r&2097160&&(i.$$scope={dirty:r,ctx:o}),e.$set(i)},i(o){l||(I(e.$$.fragment,o),l=!0)},o(o){R(e.$$.fragment,o),l=!1},d(o){he(e,o)}}}function Qn(s){let e,l="Sorry, no prizes this time.";return{c(){e=P("span"),e.textContent=l,this.h()},l(t){e=y(t,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-hk7ixu"&&(e.textContent=l),this.h()},h(){k(e,"class","svelte-exw2ac")},m(t,n){$(t,e,n)},p:A,d(t){t&&m(e)}}}function Nt(s){let e,l,t,n,o=s[20]+"",r,i;return{c(){e=P("span"),l=q("You won "),t=P("strong"),n=q("$"),r=q(o),i=q("!"),this.h()},l(a){e=y(a,"SPAN",{class:!0});var c=x(e);l=U(c,"You won "),t=y(c,"STRONG",{class:!0});var u=x(t);n=U(u,"$"),r=U(u,o),u.forEach(m),i=U(c,"!"),c.forEach(m),this.h()},h(){k(t,"class","svelte-exw2ac"),k(e,"class","svelte-exw2ac")},m(a,c){$(a,e,c),p(e,l),p(e,t),p(t,n),p(t,r),p(e,i)},p(a,c){c&8&&o!==(o=a[20]+"")&&me(r,o)},d(a){a&&m(e)}}}function Zn(s){At(s);let e,l,t,n;function o(c,u){return c[18].length>0?Nt:Qn}function r(c,u){return u===Nt?Un(c):c}let i=o(s),a=i(r(s,i));return{c(){e=P("div"),a.c(),l=O(),t=P("img"),this.h()},l(c){e=y(c,"DIV",{slot:!0,class:!0});var u=x(e);a.l(u),l=H(u),t=y(u,"IMG",{src:!0,alt:!0,class:!0}),u.forEach(m),this.h()},h(){xt(t.src,n="/pooly.svg")||k(t,"src",n),k(t,"alt","Pooly"),k(t,"class","svelte-exw2ac"),k(e,"slot","end-card"),k(e,"class","plinko-end-card svelte-exw2ac")},m(c,u){$(c,e,u),a.m(e,null),p(e,l),p(e,t)},p(c,u){At(c),i===(i=o(c))&&a?a.p(r(c,i),u):(a.d(1),a=i(r(c,i)),a&&(a.c(),a.m(e,l)))},d(c){c&&m(e),a.d()}}}function It(s){let e,l,t;function n(r){s[12](r)}let o={title:"Account Setup",$$slots:{"modal-content":[ts],"button-content":[es]},$$scope:{ctx:s}};return s[4]!==void 0&&(o.close=s[4]),e=new qt({props:o}),qe.push(()=>al(e,"close",n)),{c(){ue(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){de(e,r,i),t=!0},p(r,i){const a={};i&2097168&&(a.$$scope={dirty:i,ctx:r}),!l&&i&16&&(l=!0,a.close=r[4],nl(()=>l=!1)),e.$set(a)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){he(e,r)}}}function es(s){let e,l;return e=new Cl({props:{slot:"button-content",animate:!0}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},p:A,i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function ts(s){let e,l;return e=new Pl({props:{slot:"modal-content",onSuccess:s[4]}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),l=!0},p(t,n){const o={};n&16&&(o.onSuccess=t[4]),e.$set(o)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function Tt(s){let e,l,t,n,o,r;const i=[Jn,Gn,Yn],a=[];function c(u,f){return u[0]==="main"?0:u[0]==="checkingPrizes"?1:u[0]==="claimingBonusRewards"?2:-1}return~(l=c(s))&&(t=a[l]=i[l](s)),{c(){e=P("div"),t&&t.c(),this.h()},l(u){e=y(u,"DIV",{class:!0});var f=x(e);t&&t.l(f),f.forEach(m),this.h()},h(){k(e,"class","page-wrapper svelte-exw2ac")},m(u,f){$(u,e,f),~l&&a[l].m(e,null),r=!0},p(u,f){let d=l;l=c(u),l===d?~l&&a[l].p(u,f):(t&&(ve(),R(a[d],1,1,()=>{a[d]=null}),we()),~l?(t=a[l],t?t.p(u,f):(t=a[l]=i[l](u),t.c()),I(t,1),t.m(e,null)):t=null)},i(u){r||(I(t),u&&Wt(()=>{r&&(o&&o.end(1),n=ol(e,ht,{duration:Qe.duration,delay:Qe.duration}),n.start())}),r=!0)},o(u){R(t),n&&n.invalidate(),u&&(o=rl(e,ht,{duration:Qe.duration})),r=!1},d(u){u&&m(e),~l&&a[l].d(),u&&o&&o.end()}}}function ls(s){let e=s[0],l,t,n,o;Wt(s[11]);let r=Tt(s);return{c(){r.c(),l=Se()},l(i){r.l(i),l=Se()},m(i,a){r.m(i,a),$(i,l,a),t=!0,n||(o=Le(window,"resize",s[11]),n=!0)},p(i,[a]){a&1&&Te(e,e=i[0])?(ve(),R(r,1,1,A),we(),r=Tt(i),r.c(),I(r,1),r.m(l.parentNode,l)):r.p(i,a)},i(i){t||(I(r),t=!0)},o(i){R(r),t=!1},d(i){i&&m(l),r.d(i),n=!1,o()}}}function ns(s,e,l){let t,n,o,r,i,a,c;re(s,tt,M=>l(2,r=M)),re(s,He,M=>l(17,i=M)),re(s,gl,M=>l(9,a=M)),re(s,vl,M=>l(10,c=M));let u="main",f=[],d,h;const _=()=>{i&&r&&(Xe.set(r.queriedAtBlockNumber),wl(i,{checkBlockNumber:r.queriedAtBlockNumber}).then(tt.set))};function C(){l(1,d=window.innerWidth)}function w(M){h=M,l(4,h)}const g=()=>l(0,u="checkingPrizes"),S=()=>l(0,u="claimingBonusRewards"),j=()=>l(0,u="main"),T=()=>l(0,u="main");return s.$$.update=()=>{s.$$.dirty&1024&&l(8,t=c[Me(kl.address)]),s.$$.dirty&768&&l(6,n=!!t&&!!a&&(!a.isPrizeHookSet||!a.isSwapperSet)),s.$$.dirty&5&&r!=null&&r.list.length&&u!=="checkingPrizes"&&l(3,f=r.list),s.$$.dirty&2&&l(5,o=d>1760?{width:480,height:800,columns:6}:{width:300,height:500,columns:4})},[u,d,r,f,h,o,n,_,t,a,c,C,w,g,S,j,T]}class hs extends Ee{constructor(e){super(),Re(this,e,ns,ls,Te,{})}}export{hs as component};
